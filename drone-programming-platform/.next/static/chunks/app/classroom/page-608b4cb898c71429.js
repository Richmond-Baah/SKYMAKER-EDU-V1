(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[402],{18714:function(e,t,r){Promise.resolve().then(r.bind(r,38828))},38828:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return es}});var s=r(3827),n=r(64090),a=r(20333),o=r(27815),i=r(85754),l=r(31478),d=r(42706),c=r(45179),u=r(23444),x=r(97077),m=r(47935),g=r(56288),f=r(18727),p=r(87461);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let h=(0,p.Z)("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]),b=(0,p.Z)("ShieldAlert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);var v=r(56227),N=r(57976),j=r(23416),w=r(49079);function y(e){let{onAssignmentCreated:t}=e,[r,a]=(0,n.useState)(!1),[o,p]=(0,n.useState)([]),[y,k]=(0,n.useState)(""),[S,C]=(0,n.useState)(""),[E,A]=(0,n.useState)(null),[O,T]=(0,n.useState)(!1);async function I(){if(0===o.length){g.Am.error("Select at least one mission");return}try{let e=await fetch("/api/assignments",{method:"POST",headers:{"content-type":"application/json","x-teacher-key":w.env.NEXT_PUBLIC_TEACHER_TOKEN||"dev-teacher-token"},body:JSON.stringify({missions:o,title:y,description:S||null})});if(e.ok){let r=await e.json();A(r.code),g.Am.success("Assignment created (server)"),null==t||t();return}}catch(e){console.error("Failed to create assignment on server:",e)}A((0,m.vK)(o,y||"Assignment (".concat(o.length,")"),null,S||null).code),g.Am.success("Assignment created (local)"),null==t||t()}return(0,s.jsxs)(d.Vq,{open:r,onOpenChange:function(e){e||(p([]),k(""),C(""),A(null),T(!1)),a(e)},children:[(0,s.jsx)(d.hg,{asChild:!0,children:(0,s.jsxs)(i.z,{className:"bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-500 hover:to-blue-500 text-white font-bold h-10 px-6 rounded-xl shadow-[0_0_20px_rgba(168,85,247,0.4)] transition-all hover:scale-105 active:scale-95 flex items-center gap-2",children:[(0,s.jsx)(f.Z,{className:"w-4 h-4"})," CREATE ASSIGNMENT"]})}),(0,s.jsxs)(d.cZ,{className:"sm:max-w-3xl bg-card/95 backdrop-blur-xl border-purple-500/20 shadow-2xl overflow-hidden rounded-3xl p-0",children:[(0,s.jsx)("div",{className:"absolute top-0 right-0 w-64 h-64 bg-purple-600/10 blur-[80px] rounded-full pointer-events-none z-0"}),(0,s.jsx)("div",{className:"absolute bottom-0 left-0 w-64 h-64 bg-blue-600/10 blur-[80px] rounded-full pointer-events-none z-0"}),(0,s.jsxs)("div",{className:"relative p-8 flex flex-col h-[85vh] sm:h-auto max-h-[85vh]",children:[(0,s.jsxs)(d.fK,{className:"mb-6 shrink-0",children:[(0,s.jsxs)(d.$N,{className:"text-3xl font-black flex items-center gap-3 tracking-tighter text-foreground",children:[(0,s.jsx)(h,{className:"w-8 h-8 text-purple-500"}),"Mission Builder"]}),(0,s.jsxs)(d.Be,{className:"text-muted-foreground font-mono uppercase tracking-widest text-xs mt-2 flex items-center gap-2",children:[(0,s.jsx)(b,{className:"w-3.5 h-3.5 text-blue-500"})," Configure new training scenario"]})]}),(0,s.jsxs)("div",{className:"space-y-6 overflow-y-auto pr-2 pb-4 flex-1 custom-scrollbar",children:[(0,s.jsxs)("div",{className:"space-y-4 bg-muted/20 p-5 rounded-2xl border border-border",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-xs font-bold uppercase tracking-widest text-muted-foreground mb-2 block",children:"Assignment Title"}),(0,s.jsx)(c.I,{placeholder:"e.g. Week 1: Basic Telemetry & Navigation",value:y,onChange:e=>k(e.target.value),className:"bg-background/50 border-border focus-visible:ring-purple-500 text-foreground font-medium h-10 rounded-xl"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-xs font-bold uppercase tracking-widest text-muted-foreground mb-2 block",children:"Briefing / Objectives"}),(0,s.jsx)(u.g,{placeholder:"Explain the goals of this assignment to your cadets...",value:S,onChange:e=>C(e.target.value),rows:3,className:"resize-none text-sm bg-background/50 border-border focus-visible:ring-purple-500 text-foreground rounded-xl custom-scrollbar"})]})]}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("label",{className:"text-sm font-black uppercase tracking-widest text-foreground flex items-center gap-2",children:[(0,s.jsx)(v.Z,{className:"w-4 h-4 text-emerald-500"})," Select Curriculum Modules"]}),(0,s.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 max-h-[35vh] overflow-y-auto p-1 custom-scrollbar",children:x.N.map(e=>{let t=o.includes(e.id);return(0,s.jsxs)("div",{onClick:()=>{var t;return t=e.id,void p(e=>e.includes(t)?e.filter(e=>e!==t):[...e,t])},className:"relative flex flex-col p-4 rounded-xl cursor-pointer transition-all duration-200 border group overflow-hidden ".concat(t?"bg-purple-500/10 border-purple-500/50 shadow-[0_0_15px_rgba(168,85,247,0.15)] ring-1 ring-purple-500":"bg-card border-border hover:border-purple-500/30 hover:bg-muted/30"),children:[t&&(0,s.jsx)("div",{className:"absolute top-3 right-3 text-purple-500 animate-in zoom-in spin-in-12 duration-300",children:(0,s.jsx)(N.Z,{className:"w-5 h-5 fill-purple-500/20"})}),(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-2 pr-8",children:[(0,s.jsx)("span",{className:"font-mono text-[10px] text-muted-foreground group-hover:text-purple-400 transition-colors",children:e.id.toUpperCase()}),(0,s.jsx)(l.C,{variant:"outline",className:"text-[9px] px-1.5 py-0 uppercase tracking-widest border-border ".concat("beginner"===e.tier?"text-blue-500":"text-emerald-500"),children:e.tier})]}),(0,s.jsx)("div",{className:"font-bold text-sm text-foreground leading-tight mb-2 pr-6",children:e.title}),(0,s.jsx)("div",{className:"text-xs text-muted-foreground line-clamp-2 mt-auto",children:e.components.theory})]},e.id)})})]}),E&&(0,s.jsxs)("div",{className:"p-5 bg-emerald-500/10 rounded-2xl border border-emerald-500/30 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[(0,s.jsxs)("div",{className:"text-xs font-bold uppercase tracking-widest text-emerald-500 mb-3 flex items-center gap-2",children:[(0,s.jsx)(N.Z,{className:"w-4 h-4"})," Assignment Broadcast Ready"]}),(0,s.jsx)("div",{className:"text-sm text-foreground mb-4",children:"Share this unique access code with your students. They can redeem it on their Pilot Logs dashboard."}),(0,s.jsxs)("div",{className:"flex items-center gap-3 bg-background/80 p-2 rounded-xl border border-emerald-500/20",children:[(0,s.jsx)("div",{className:"font-mono font-bold text-xl px-4 py-2 rounded-lg flex-1 text-center text-foreground tracking-widest bg-emerald-500/5 selection:bg-emerald-500/30",children:E}),(0,s.jsx)(i.z,{size:"icon",className:"h-12 w-12 rounded-xl transition-all ".concat(O?"bg-emerald-500 hover:bg-emerald-600 text-white":"bg-muted text-foreground hover:bg-muted/80"),onClick:function(){if(E){var e;null===(e=navigator.clipboard)||void 0===e||e.writeText(E),T(!0),g.Am.success("Code copied to clipboard"),setTimeout(()=>T(!1),2e3)}},children:O?(0,s.jsx)(N.Z,{className:"w-5 h-5 animate-in zoom-in"}):(0,s.jsx)(j.Z,{className:"w-5 h-5"})})]})]})]}),(0,s.jsxs)(d.cN,{className:"mt-6 pt-6 border-t border-border shrink-0 flex-col sm:flex-row gap-3 items-center w-full",children:[(0,s.jsxs)("div",{className:"text-xs text-muted-foreground font-mono uppercase tracking-widest flex-1 text-center sm:text-left",children:[o.length," ",1===o.length?"Module":"Modules"," Selected"]}),(0,s.jsxs)("div",{className:"flex gap-3 w-full sm:w-auto",children:[(0,s.jsx)(i.z,{variant:"ghost",className:"h-10 rounded-xl",onClick:()=>a(!1),children:"CANCEL"}),(0,s.jsx)(i.z,{className:"bg-purple-600 hover:bg-purple-500 text-white font-bold h-10 px-6 rounded-xl shadow-lg shadow-purple-500/20 transition-all w-full sm:w-auto",onClick:I,disabled:0===o.length,children:E?"UPDATE ASSIGNMENT":"GENERATE MISSION CODE"})]})]})]})]})]})}var k=r(77326);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let S=(0,p.Z)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),C=(0,p.Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);var E=r(95032),A=r(66260),O=r(85159),T=r(23441),I=r(11213),Z=r(46578),z=r(71483),R=r(80479),_=r(84104),M=r(29586),D="Progress",[V,L]=(0,_.b)(D),[P,B]=V(D),U=n.forwardRef((e,t)=>{var r,n;let{__scopeProgress:a,value:o=null,max:i,getValueLabel:l=F,...d}=e;(i||0===i)&&!K(i)&&console.error((r="".concat(i),"Invalid prop `max` of value `".concat(r,"` supplied to `").concat("Progress","`. Only numbers greater than 0 are valid max values. Defaulting to `").concat(100,"`.")));let c=K(i)?i:100;null===o||X(o,c)||console.error((n="".concat(o),"Invalid prop `value` of value `".concat(n,"` supplied to `").concat("Progress","`. The `value` prop must be:\n  - a positive number\n  - less than the value passed to `max` (or ").concat(100," if no `max` prop is set)\n  - `null` or `undefined` if the progress is indeterminate.\n\nDefaulting to `null`.")));let u=X(o,c)?o:null,x=q(u)?l(u,c):void 0;return(0,s.jsx)(P,{scope:a,value:u,max:c,children:(0,s.jsx)(M.WV.div,{"aria-valuemax":c,"aria-valuemin":0,"aria-valuenow":q(u)?u:void 0,"aria-valuetext":x,role:"progressbar","data-state":G(u,c),"data-value":null!=u?u:void 0,"data-max":c,...d,ref:t})})});U.displayName=D;var W="ProgressIndicator",H=n.forwardRef((e,t)=>{var r;let{__scopeProgress:n,...a}=e,o=B(W,n);return(0,s.jsx)(M.WV.div,{"data-state":G(o.value,o.max),"data-value":null!==(r=o.value)&&void 0!==r?r:void 0,"data-max":o.max,...a,ref:t})});function F(e,t){return"".concat(Math.round(e/t*100),"%")}function G(e,t){return null==e?"indeterminate":e===t?"complete":"loading"}function q(e){return"number"==typeof e}function K(e){return q(e)&&!isNaN(e)&&e>0}function X(e,t){return q(e)&&!isNaN(e)&&e<=t&&e>=0}H.displayName=W;var Y=r(1657);function $(e){let{className:t,value:r,...n}=e;return(0,s.jsx)(U,{"data-slot":"progress",className:(0,Y.cn)("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",t),...n,children:(0,s.jsx)(H,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:"translateX(-".concat(100-(r||0),"%)")}})})}var J=r(49079);function Q(){let[e,t]=(0,n.useState)([]),[r,a]=(0,n.useState)([]),[d,c]=(0,n.useState)(!1),[u,x]=(0,n.useState)(null),[f,p]=(0,n.useState)(null);async function h(){c(!0);try{let e=await fetch("/api/assignments",{headers:{"x-teacher-key":J.env.NEXT_PUBLIC_TEACHER_TOKEN||"dev-teacher-token"}});if(e.ok){let r=await e.json(),s=new Map,n=[];for(let e of r){let t=await fetch("/api/submissions/".concat(e.code)),r=[];if(t.ok)for(let e of r=(await t.json()).submissions||[]){let t=e.userId||e.studentId;s.has(t)||s.set(t,{name:e.studentName,scores:[],missions:new Set});let r=s.get(t);e.studentName&&!e.studentName.startsWith("Anonymous")&&(r.name=e.studentName),r.missions.add(e.missionId),e.grade&&r.scores.push(e.grade.score)}n.push({...e,submissions:r})}t(n);let o=Array.from(s.entries()).map(e=>{let[t,r]=e;return{id:t,name:r.name,missionsCompleted:r.missions.size,averageScore:r.scores.length>0?Math.round(r.scores.reduce((e,t)=>e+t,0)/r.scores.length):0}});a(o.sort((e,t)=>t.averageScore-e.averageScore))}else b()}catch(e){b()}finally{c(!1)}}function b(){t((0,m.fD)().map(e=>({code:e.code,title:e.title||null,description:e.description||null,missions:e.missions,createdAt:e.createdAt,deadline:e.deadline||null,submissions:[]})))}(0,n.useEffect)(()=>{h()},[]);let N=r.length,j=e.reduce((e,t)=>e+t.submissions.length,0),w=N>0?Math.round(r.reduce((e,t)=>e+t.averageScore,0)/N):0;return(0,s.jsxs)("div",{className:"space-y-12",children:[(0,s.jsxs)("div",{className:"flex flex-col md:flex-row md:items-end justify-between gap-6",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("h1",{className:"text-5xl font-black tracking-tighter bg-clip-text text-transparent bg-gradient-to-b from-foreground to-foreground/40 flex items-center gap-4",children:["TEACHER DASHBOARD",(0,s.jsx)(l.C,{className:"bg-purple-500/10 text-purple-500 border-purple-500/20 px-3 py-1 text-[10px] font-black uppercase tracking-widest h-fit mt-1",children:"INSTRUCTOR VIEW"})]}),(0,s.jsxs)("p",{className:"text-muted-foreground font-mono text-sm uppercase tracking-widest flex items-center gap-2",children:[(0,s.jsx)(k.Z,{className:"w-4 h-4 text-purple-500"}),"CLASSROOM OPERATIONS & METRICS"]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)(y,{onAssignmentCreated:()=>h()}),(0,s.jsxs)(i.z,{variant:"outline",className:"border-purple-500/30 text-purple-500 hover:bg-purple-500/10 font-bold tracking-widest text-xs h-10 px-6 rounded-xl transition-all",onClick:()=>g.Am.info("CSV export coming soon"),children:[(0,s.jsx)(S,{className:"w-4 h-4 mr-2"})," EXPORT CSV"]})]})]}),(0,s.jsxs)("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[(0,s.jsx)(ee,{title:"TOTAL STUDENTS",value:N.toString(),subtitle:"ACTIVE IN COHORT",icon:(0,s.jsx)(C,{className:"w-5 h-5 text-blue-500"})}),(0,s.jsx)(ee,{title:"ACTIVE ASSIGNMENTS",value:e.length.toString(),subtitle:"CIRCULATING MODULES",icon:(0,s.jsx)(v.Z,{className:"w-5 h-5 text-amber-500"})}),(0,s.jsx)(ee,{title:"TOTAL SUBMISSIONS",value:j.toString(),subtitle:"CODE & FLIGHT DATA",icon:(0,s.jsx)(E.Z,{className:"w-5 h-5 text-emerald-500"})}),(0,s.jsx)(ee,{title:"COHORT AVG SCORE",value:"".concat(w,"%"),subtitle:"OVERALL PERFORMANCE",icon:(0,s.jsx)(A.Z,{className:"w-5 h-5 text-purple-500"}),progress:w})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,s.jsxs)(o.Zb,{className:"lg:col-span-2 bg-card border-border shadow-xl overflow-hidden rounded-3xl",children:[(0,s.jsxs)(o.Ol,{className:"p-8 border-b border-border",children:[(0,s.jsx)(o.ll,{className:"text-2xl font-bold tracking-tight text-foreground",children:"Mission Dispenser"}),(0,s.jsx)(o.SZ,{className:"text-muted-foreground",children:"Manage ongoing assignments and review flight submissions"})]}),(0,s.jsx)(o.aY,{className:"p-8",children:d?(0,s.jsx)("div",{className:"text-center py-12 text-muted-foreground",children:"Syncing Operational Data..."}):0===e.length?(0,s.jsx)("div",{className:"text-center py-12 text-muted-foreground border-2 border-dashed border-border rounded-xl",children:"No assignments circulating. Create a new module to begin."}):(0,s.jsx)("div",{className:"grid gap-4",children:e.map(e=>(0,s.jsxs)("div",{className:"border border-border rounded-2xl overflow-hidden bg-muted/10 hover:border-purple-500/30 transition-all duration-300",children:[(0,s.jsxs)("button",{onClick:()=>{var t;return t=e.code,void(x(e=>e===t?null:t),p(null))},className:"w-full p-6 flex flex-col sm:flex-row sm:items-center justify-between gap-4 text-left transition-colors",children:[(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsx)("div",{className:"font-bold text-lg text-foreground tracking-tight",children:e.title||"Classroom Assignment"}),e.description&&(0,s.jsx)("div",{className:"text-sm text-muted-foreground line-clamp-1",children:e.description}),(0,s.jsxs)("div",{className:"text-xs font-mono text-muted-foreground/80 pt-2 flex gap-4",children:[(0,s.jsxs)("span",{children:["CODE: ",(0,s.jsx)("span",{className:"text-purple-400",children:e.code})]}),(0,s.jsxs)("span",{children:["MISSIONS: ",e.missions.length]})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-4 shrink-0",children:[e.submissions.length>0&&(0,s.jsxs)(l.C,{className:"bg-blue-500/10 text-blue-500 border-blue-500/20 px-3 py-1 font-bold whitespace-nowrap",children:[e.submissions.length," SUBMISSIONS"]}),(0,s.jsx)("div",{className:"w-8 h-8 rounded-full bg-muted flex items-center justify-center",children:u===e.code?(0,s.jsx)(O.Z,{className:"w-4 h-4 text-foreground"}):(0,s.jsx)(T.Z,{className:"w-4 h-4 text-foreground"})})]})]}),u===e.code&&(0,s.jsx)("div",{className:"border-t border-border bg-background/50 backdrop-blur",children:0===e.submissions.length?(0,s.jsx)("div",{className:"p-8 text-center text-sm text-muted-foreground",children:"No telemetry recorded yet for this module."}):(0,s.jsx)("div",{className:"divide-y divide-border",children:e.submissions.map(e=>{var t;return(0,s.jsxs)("div",{className:"p-6 space-y-4 hover:bg-muted/10 transition-colors",children:[(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-blue-500/20 to-purple-500/20 flex items-center justify-center border border-border",children:(0,s.jsx)(I.Z,{className:"w-5 h-5 text-foreground"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"font-bold text-foreground",children:e.studentName}),(0,s.jsxs)("div",{className:"text-[10px] text-muted-foreground font-mono mt-1",children:["ID: ",e.missionId," | ",new Date(e.createdAt).toLocaleString(void 0,{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})]})]})]}),(0,s.jsx)("div",{className:"flex items-center gap-3",children:e.grade?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(l.C,{className:"px-3 py-1 font-black text-[10px] tracking-widest uppercase ".concat(e.grade.passed?"bg-emerald-500/10 text-emerald-500 border-emerald-500/20":"bg-amber-500/10 text-amber-500 border-amber-500/20"),children:e.grade.passed?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(Z.Z,{className:"w-3 h-3 mr-1.5"})," PASSED"]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(z.Z,{className:"w-3 h-3 mr-1.5"})," REVIEW"]})}),(0,s.jsxs)("div",{className:"text-2xl font-black text-foreground w-16 text-right",children:[e.grade.score,"%"]})]}):(0,s.jsx)(l.C,{variant:"outline",className:"text-muted-foreground",children:"PENDING"})})]}),(null===(t=e.grade)||void 0===t?void 0:t.feedback)&&(0,s.jsxs)("div",{className:"ml-14 text-sm text-muted-foreground bg-muted/30 border border-border rounded-xl p-4 leading-relaxed",children:[(0,s.jsx)("span",{className:"font-bold text-foreground text-[10px] uppercase tracking-widest block mb-2",children:"System Feedback"}),e.grade.feedback]}),(0,s.jsxs)("div",{className:"ml-14",children:[(0,s.jsxs)(i.z,{variant:"outline",size:"sm",onClick:()=>{var t;return t=e.id,void p(e=>e===t?null:t)},className:"h-8 text-xs font-bold tracking-widest bg-transparent border-border hover:bg-muted",children:[(0,s.jsx)(R.Z,{className:"w-3 h-3 mr-2"}),f===e.id?"HIDE FLIGHT DATA":"VIEW SOURCE"]}),f===e.id&&(0,s.jsx)("div",{className:"mt-4 bg-[#0d1117] border border-border rounded-xl p-4 overflow-x-auto shadow-inner",children:(0,s.jsx)("pre",{className:"text-xs font-mono text-blue-300 whitespace-pre-wrap break-words",children:e.code})})]})]},e.id)})})})]},e.code))})})]}),(0,s.jsx)("div",{className:"space-y-6",children:(0,s.jsxs)(o.Zb,{className:"bg-card border-border shadow-2xl rounded-3xl p-6 relative overflow-hidden group",children:[(0,s.jsx)("div",{className:"absolute top-[-20%] right-[-10%] w-[50%] h-[50%] bg-purple-500/5 blur-[80px] rounded-full pointer-events-none"}),(0,s.jsxs)("h3",{className:"text-sm font-black uppercase tracking-[0.2em] text-muted-foreground mb-6 flex items-center gap-2",children:[(0,s.jsx)(A.Z,{className:"w-4 h-4 text-purple-500"})," TOP PERFORMERS"]}),0===r.length?(0,s.jsx)("div",{className:"text-sm text-center py-8 text-muted-foreground",children:"Radar is clear. No cadets classified yet."}):(0,s.jsx)("div",{className:"space-y-4",children:r.map((e,t)=>(0,s.jsxs)("div",{className:"relative flex items-center p-3 rounded-2xl transition-all duration-300 hover:bg-muted/50 ".concat(0===t?"bg-amber-500/5 border border-amber-500/20":1===t?"bg-gray-400/5 border border-gray-400/20":2===t?"bg-amber-700/5 border border-amber-700/20":"border border-transparent"),children:[(0,s.jsxs)("div",{className:"flex-1 flex items-center gap-4",children:[(0,s.jsx)("div",{className:"w-8 text-center font-black text-xl italic ".concat(0===t?"text-amber-500 drop-shadow-[0_0_8px_rgba(245,158,11,0.5)]":1===t?"text-gray-400 drop-shadow-[0_0_8px_rgba(156,163,175,0.5)]":2===t?"text-amber-700 drop-shadow-[0_0_8px_rgba(180,83,9,0.5)]":"text-muted-foreground"),children:t+1}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"font-bold text-sm ".concat(t<3?"text-foreground":"text-muted-foreground"),children:e.name}),(0,s.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[(0,s.jsx)($,{value:e.averageScore,className:"h-1 w-16 bg-muted",children:(0,s.jsx)("div",{className:"h-full bg-purple-500",style:{width:"".concat(e.averageScore,"%")}})}),(0,s.jsxs)("span",{className:"text-[10px] font-mono text-muted-foreground",children:[e.averageScore,"%"]})]})]})]}),(0,s.jsxs)("div",{className:"text-right shrink-0 pr-2",children:[(0,s.jsx)("div",{className:"text-sm font-bold text-foreground",children:e.missionsCompleted}),(0,s.jsx)("div",{className:"text-[8px] uppercase tracking-widest text-muted-foreground font-bold",children:"Missions"})]})]},e.id))})]})})]})]})}function ee(e){let{title:t,value:r,subtitle:n,icon:a,progress:i}=e;return(0,s.jsxs)(o.Zb,{className:"bg-card border-border shadow-xl rounded-2xl overflow-hidden group hover:scale-[1.02] transition-all duration-300",children:[(0,s.jsxs)(o.Ol,{className:"pb-2 flex flex-row items-center justify-between space-y-0 p-6",children:[(0,s.jsx)(o.ll,{className:"text-[10px] font-black uppercase tracking-[0.2em] text-muted-foreground",children:t}),(0,s.jsx)("div",{className:"p-2 rounded-xl bg-muted/50 border border-border group-hover:bg-muted transition-colors",children:a})]}),(0,s.jsxs)(o.aY,{className:"p-6 pt-0",children:[(0,s.jsx)("div",{className:"text-3xl font-black tracking-tighter mb-1 text-foreground",children:r}),(0,s.jsx)("div",{className:"text-[10px] font-bold text-muted-foreground uppercase tracking-widest",children:n}),void 0!==i&&(0,s.jsx)("div",{className:"mt-4",children:(0,s.jsx)($,{value:i,className:"h-1.5 bg-muted",children:(0,s.jsx)("div",{className:"h-full bg-gradient-to-r from-purple-600 to-purple-400 shadow-[0_0_10px_rgba(168,85,247,0.3)] transition-all duration-1000",style:{width:"".concat(i,"%")}})})})]})]})}var et=r(6190),er=r(47907);function es(){let e=(0,a.f)(e=>e.role),t=(0,a.f)(e=>e.user),r=(0,er.useRouter)();return((0,n.useEffect)(()=>{null!==e&&"teacher"!==e&&r.replace("/dashboard")},[e,r]),t&&null!==e)?"teacher"!==e?null:(0,s.jsxs)("div",{className:"min-h-screen bg-background text-foreground selection:bg-blue-500/30 transition-colors duration-300",children:[(0,s.jsxs)("div",{className:"fixed inset-0 pointer-events-none overflow-hidden",children:[(0,s.jsx)("div",{className:"absolute top-[-10%] right-[-10%] w-[60%] h-[60%] bg-purple-600/10 blur-[150px] rounded-full"}),(0,s.jsx)("div",{className:"absolute bottom-[-10%] left-[-10%] w-[50%] h-[50%] bg-blue-600/5 blur-[120px] rounded-full"}),(0,s.jsx)("div",{className:"absolute top-[20%] left-[10%] w-[30%] h-[30%] bg-emerald-600/5 blur-[100px] rounded-full"})]}),(0,s.jsxs)("main",{className:"container mx-auto py-12 px-6 relative z-10 w-full",children:[(0,s.jsx)("div",{className:"mb-8",children:(0,s.jsx)(et.BackButton,{label:"RETURN TO PILOT LOGS"})}),(0,s.jsx)(Q,{})]})]}):(0,s.jsx)("div",{className:"min-h-screen bg-background text-foreground flex items-center justify-center",children:(0,s.jsx)("p",{className:"text-muted-foreground font-mono text-sm uppercase tracking-widest",children:"Verifying access..."})})}},6190:function(e,t,r){"use strict";r.r(t),r.d(t,{BackButton:function(){return i}});var s=r(3827),n=r(47907),a=r(85754),o=r(53879);function i(e){let{className:t,label:r="BACK"}=e,i=(0,n.useRouter)();return(0,s.jsxs)(a.z,{variant:"ghost",size:"sm",onClick:()=>i.back(),className:"group text-muted-foreground hover:text-foreground transition-all flex items-center gap-2 px-2 hover:bg-white/5 rounded-lg ".concat(t),children:[(0,s.jsx)(o.Z,{className:"w-4 h-4 transition-transform group-hover:-translate-x-1"}),(0,s.jsx)("span",{className:"text-[10px] font-black uppercase tracking-widest",children:r})]})}},31478:function(e,t,r){"use strict";r.d(t,{C:function(){return l}});var s=r(3827);r(64090);var n=r(59143),a=r(49769),o=r(1657);let i=(0,a.j)("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function l(e){let{className:t,variant:r,asChild:a=!1,...l}=e,d=a?n.g7:"span";return(0,s.jsx)(d,{"data-slot":"badge",className:(0,o.cn)(i({variant:r}),t),...l})}},85754:function(e,t,r){"use strict";r.d(t,{z:function(){return l}});var s=r(3827);r(64090);var n=r(59143),a=r(49769),o=r(1657);let i=(0,a.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9","icon-sm":"size-8","icon-lg":"size-10"}},defaultVariants:{variant:"default",size:"default"}});function l(e){let{className:t,variant:r,size:a,asChild:l=!1,...d}=e,c=l?n.g7:"button";return(0,s.jsx)(c,{"data-slot":"button",className:(0,o.cn)(i({variant:r,size:a,className:t})),...d})}},27815:function(e,t,r){"use strict";r.d(t,{Ol:function(){return o},SZ:function(){return l},Zb:function(){return a},aY:function(){return d},eW:function(){return c},ll:function(){return i}});var s=r(3827);r(64090);var n=r(1657);function a(e){let{className:t,...r}=e;return(0,s.jsx)("div",{"data-slot":"card",className:(0,n.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",t),...r})}function o(e){let{className:t,...r}=e;return(0,s.jsx)("div",{"data-slot":"card-header",className:(0,n.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...r})}function i(e){let{className:t,...r}=e;return(0,s.jsx)("div",{"data-slot":"card-title",className:(0,n.cn)("leading-none font-semibold",t),...r})}function l(e){let{className:t,...r}=e;return(0,s.jsx)("div",{"data-slot":"card-description",className:(0,n.cn)("text-muted-foreground text-sm",t),...r})}function d(e){let{className:t,...r}=e;return(0,s.jsx)("div",{"data-slot":"card-content",className:(0,n.cn)("px-6",t),...r})}function c(e){let{className:t,...r}=e;return(0,s.jsx)("div",{"data-slot":"card-footer",className:(0,n.cn)("flex items-center px-6 [.border-t]:pt-6",t),...r})}},42706:function(e,t,r){"use strict";r.d(t,{$N:function(){return g},Be:function(){return f},Vq:function(){return i},cN:function(){return m},cZ:function(){return u},fK:function(){return x},hg:function(){return l}});var s=r(3827);r(64090);var n=r(72936),a=r(52235),o=r(1657);function i(e){let{...t}=e;return(0,s.jsx)(n.fC,{"data-slot":"dialog",...t})}function l(e){let{...t}=e;return(0,s.jsx)(n.xz,{"data-slot":"dialog-trigger",...t})}function d(e){let{...t}=e;return(0,s.jsx)(n.h_,{"data-slot":"dialog-portal",...t})}function c(e){let{className:t,...r}=e;return(0,s.jsx)(n.aV,{"data-slot":"dialog-overlay",className:(0,o.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...r})}function u(e){let{className:t,children:r,showCloseButton:i=!0,...l}=e;return(0,s.jsxs)(d,{"data-slot":"dialog-portal",children:[(0,s.jsx)(c,{}),(0,s.jsxs)(n.VY,{"data-slot":"dialog-content",className:(0,o.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),...l,children:[r,i&&(0,s.jsxs)(n.x8,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[(0,s.jsx)(a.Z,{}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function x(e){let{className:t,...r}=e;return(0,s.jsx)("div",{"data-slot":"dialog-header",className:(0,o.cn)("flex flex-col gap-2 text-center sm:text-left",t),...r})}function m(e){let{className:t,...r}=e;return(0,s.jsx)("div",{"data-slot":"dialog-footer",className:(0,o.cn)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",t),...r})}function g(e){let{className:t,...r}=e;return(0,s.jsx)(n.Dx,{"data-slot":"dialog-title",className:(0,o.cn)("text-lg leading-none font-semibold",t),...r})}function f(e){let{className:t,...r}=e;return(0,s.jsx)(n.dk,{"data-slot":"dialog-description",className:(0,o.cn)("text-muted-foreground text-sm",t),...r})}},45179:function(e,t,r){"use strict";r.d(t,{I:function(){return a}});var s=r(3827);r(64090);var n=r(1657);function a(e){let{className:t,type:r,...a}=e;return(0,s.jsx)("input",{type:r,"data-slot":"input",className:(0,n.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...a})}},23444:function(e,t,r){"use strict";r.d(t,{g:function(){return a}});var s=r(3827);r(64090);var n=r(1657);function a(e){let{className:t,...r}=e;return(0,s.jsx)("textarea",{"data-slot":"textarea",className:(0,n.cn)("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),...r})}},47935:function(e,t,r){"use strict";r.d(t,{fD:function(){return i},lr:function(){return o},vK:function(){return a}});let s="skymakers:assignments";function n(){try{return JSON.parse(localStorage.getItem(s)||"[]")}catch(e){return[]}}function a(e,t,r,a){let o={code:Math.floor(1e5+9e5*Math.random()).toString(),title:t,description:a||null,missions:e,deadline:r||null,createdAt:new Date().toISOString()},i=n();return i.push(o),localStorage.setItem(s,JSON.stringify(i)),o}function o(e){return n().find(t=>t.code===e)}function i(){return n()}},1657:function(e,t,r){"use strict";r.d(t,{cn:function(){return a}});var s=r(75504),n=r(51367);function a(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,n.m6)((0,s.W)(t))}},87461:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});var s=r(64090),n={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),o=(e,t)=>{let r=(0,s.forwardRef)((r,o)=>{let{color:i="currentColor",size:l=24,strokeWidth:d=2,absoluteStrokeWidth:c,className:u="",children:x,...m}=r;return(0,s.createElement)("svg",{ref:o,...n,width:l,height:l,stroke:i,strokeWidth:c?24*Number(d)/Number(l):d,className:["lucide","lucide-".concat(a(e)),u].join(" "),...m},[...t.map(e=>{let[t,r]=e;return(0,s.createElement)(t,r)}),...Array.isArray(x)?x:[x]])});return r.displayName="".concat(e),r}},23441:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,r(87461).Z)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},85159:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,r(87461).Z)("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]])},11213:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,r(87461).Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},71483:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,r(87461).Z)("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},61266:function(e,t,r){"use strict";r.d(t,{F:function(){return a},e:function(){return o}});var s=r(64090);function n(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}function a(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return e=>{let r=!1,s=t.map(t=>{let s=n(t,e);return r||"function"!=typeof s||(r=!0),s});if(r)return()=>{for(let e=0;e<s.length;e++){let r=s[e];"function"==typeof r?r():n(t[e],null)}}}}function o(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return s.useCallback(a(...t),t)}},59143:function(e,t,r){"use strict";r.d(t,{g7:function(){return o}});var s=r(64090),n=r(61266),a=r(3827),o=s.forwardRef((e,t)=>{let{children:r,...n}=e,o=s.Children.toArray(r),l=o.find(d);if(l){let e=l.props.children,r=o.map(t=>t!==l?t:s.Children.count(e)>1?s.Children.only(null):s.isValidElement(e)?e.props.children:null);return(0,a.jsx)(i,{...n,ref:t,children:s.isValidElement(e)?s.cloneElement(e,void 0,r):null})}return(0,a.jsx)(i,{...n,ref:t,children:r})});o.displayName="Slot";var i=s.forwardRef((e,t)=>{let{children:r,...a}=e;if(s.isValidElement(r)){var o,i;let e,l;let d=(e=null===(o=Object.getOwnPropertyDescriptor(r.props,"ref"))||void 0===o?void 0:o.get)&&"isReactWarning"in e&&e.isReactWarning?r.ref:(e=null===(i=Object.getOwnPropertyDescriptor(r,"ref"))||void 0===i?void 0:i.get)&&"isReactWarning"in e&&e.isReactWarning?r.props.ref:r.props.ref||r.ref;return s.cloneElement(r,{...function(e,t){let r={...t};for(let s in t){let n=e[s],a=t[s];/^on[A-Z]/.test(s)?n&&a?r[s]=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];a(...t),n(...t)}:n&&(r[s]=n):"style"===s?r[s]={...n,...a}:"className"===s&&(r[s]=[n,a].filter(Boolean).join(" "))}return{...e,...r}}(a,r.props),ref:t?(0,n.F)(t,d):d})}return s.Children.count(r)>1?s.Children.only(null):null});i.displayName="SlotClone";var l=e=>{let{children:t}=e;return(0,a.jsx)(a.Fragment,{children:t})};function d(e){return s.isValidElement(e)&&e.type===l}}},function(e){e.O(0,[150,338,288,442,207,259,333,971,69,744],function(){return e(e.s=18714)}),_N_E=e.O()}]);