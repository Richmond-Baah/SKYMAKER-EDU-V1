(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[83],{41128:function(e,t,r){Promise.resolve().then(r.bind(r,68355))},68355:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return j}});var s=r(3827),n=r(64090);function a(e){let{onLeftChange:t,onRightChange:r}=e,a=(0,n.useRef)(null),i=(0,n.useRef)(null),[o,l]=(0,n.useState)({x:0,y:0}),[d,c]=(0,n.useState)({x:0,y:0}),[x,m]=(0,n.useState)(240);(0,n.useEffect)(()=>{let e=()=>{let e=window.innerWidth,t=window.innerHeight;m(e<640?Math.min(160,.25*t):e<768?Math.min(180,.3*t):e<1024?Math.min(220,.35*t):Math.min(240,.4*t))};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);let u=(0,n.useCallback)((e,t,r,s)=>{let n=e.getContext("2d");if(!n)return;let a=window.devicePixelRatio||1;e.width=x*a,e.height=x*a,n.scale(a,a);let i=x/2,o=x/2;n.clearRect(0,0,x,x),n.shadowBlur=15,n.shadowColor="rgba(59, 130, 246, 0.3)";let l=n.createRadialGradient(i,o,0,i,o,100);l.addColorStop(0,"rgba(255, 255, 255, 0.02)"),l.addColorStop(.8,"rgba(255, 255, 255, 0.05)"),l.addColorStop(1,"rgba(255, 255, 255, 0.02)"),n.fillStyle=l,n.beginPath(),n.arc(i,o,100,0,2*Math.PI),n.fill(),n.strokeStyle="rgba(59, 130, 246, 0.4)",n.lineWidth=2,n.beginPath(),n.arc(i,o,100,0,2*Math.PI),n.stroke(),n.strokeStyle="rgba(59, 130, 246, 0.1)",n.lineWidth=8,n.beginPath(),n.arc(i,o,100,0,2*Math.PI),n.stroke(),n.shadowBlur=0,n.fillStyle="rgba(255, 255, 255, 0.4)",n.font="bold 10px Inter, sans-serif",n.textAlign="center",n.textBaseline="middle",n.fillText(s[0],i,o-85),n.fillText(s[1],i,o+85),n.fillText(s[2],i-85,o),n.fillText(s[3],i+85,o),n.strokeStyle="rgba(255, 255, 255, 0.05)",n.lineWidth=1,n.beginPath(),n.moveTo(i-100,o),n.lineTo(i+100,o),n.moveTo(i,o-100),n.lineTo(i,o+100),n.stroke();let d=i+t,c=o+r;n.shadowBlur=20,n.shadowColor="rgba(59, 130, 246, 0.6)",n.strokeStyle="rgba(255, 255, 255, 0.8)",n.lineWidth=2,n.beginPath(),n.arc(d,c,30,0,2*Math.PI),n.stroke();let m=n.createRadialGradient(d-5,c-5,0,d,c,30);m.addColorStop(0,"rgba(59, 130, 246, 0.9)"),m.addColorStop(1,"rgba(29, 78, 216, 0.9)"),n.fillStyle=m,n.shadowBlur=0,n.beginPath(),n.arc(d,c,28,0,2*Math.PI),n.fill(),n.fillStyle="rgba(255, 255, 255, 0.3)",n.beginPath(),n.arc(d-6,c-6,6,0,2*Math.PI),n.fill()},[x]),h=(e,s)=>{let n=s?a.current:i.current;if(!n)return;let o=n.getBoundingClientRect(),d=o.width/2,x=o.height/2,m=e.clientX-o.left-d,u=e.clientY-o.top-x,h=Math.sqrt(m*m+u*u);h>100&&(m=m/h*100,u=u/h*100),s?(l({x:m,y:u}),t({horizontal:m/100,vertical:-u/100})):(c({x:m,y:u}),r({horizontal:m/100,vertical:-u/100}))},f=e=>{e?(l({x:0,y:0}),t({horizontal:0,vertical:0})):(c({x:0,y:0}),r({horizontal:0,vertical:0}))};return(0,n.useEffect)(()=>{a.current&&u(a.current,o.x,o.y,["▲","▼","◄","►"])},[o,x,u]),(0,n.useEffect)(()=>{i.current&&u(i.current,d.x,d.y,["▲","▼","◄","►"])},[d,x,u]),(0,s.jsx)("div",{className:"w-full h-full flex items-center justify-center px-0.5 sm:px-1",children:(0,s.jsxs)("div",{className:"flex items-center justify-between gap-1 sm:gap-2 md:gap-4 lg:gap-8 h-full",children:[(0,s.jsxs)("div",{className:"flex flex-col items-center gap-0.5 sm:gap-1 md:gap-2",children:[(0,s.jsx)("canvas",{ref:a,className:"cursor-grab active:cursor-grabbing touch-none",width:x,height:x,style:{width:"".concat(x,"px"),height:"".concat(x,"px")},onPointerMove:e=>e.buttons&&h(e,!0),onPointerDown:e=>h(e,!0),onPointerUp:()=>f(!0),onPointerLeave:()=>f(!0)}),(0,s.jsx)("span",{className:"text-[6px] sm:text-[7px] md:text-[8px] lg:text-[10px] font-mono text-primary text-center leading-tight drop-shadow-lg whitespace-nowrap",style:{textShadow:"0 2px 8px rgba(0,0,0,0.8)"},children:"THROTTLE & YAW"})]}),(0,s.jsxs)("div",{className:"flex flex-col items-center gap-0.5 sm:gap-1 md:gap-2",children:[(0,s.jsx)("canvas",{ref:i,className:"cursor-grab active:cursor-grabbing touch-none",width:x,height:x,style:{width:"".concat(x,"px"),height:"".concat(x,"px")},onPointerMove:e=>e.buttons&&h(e,!1),onPointerDown:e=>h(e,!1),onPointerUp:()=>f(!1),onPointerLeave:()=>f(!1)}),(0,s.jsx)("span",{className:"text-[6px] sm:text-[7px] md:text-[8px] lg:text-[10px] font-mono text-primary text-center leading-tight drop-shadow-lg whitespace-nowrap",style:{textShadow:"0 2px 8px rgba(0,0,0,0.8)"},children:"PITCH & ROLL"})]})]})})}function i(e){let{data:t}=e;return(0,s.jsx)("div",{className:"border-b border-white/5 bg-black/40 backdrop-blur-md w-full",children:(0,s.jsxs)("div",{className:"px-4 py-2 flex flex-row items-center justify-center gap-6 text-[10px] sm:text-xs font-mono",children:[(0,s.jsxs)("div",{className:"flex items-center gap-0.5",children:[(0,s.jsx)("div",{className:"w-2 h-2 sm:w-2.5 sm:h-2.5 rounded-[1px] bg-primary border border-primary"}),(0,s.jsx)("span",{className:"text-muted-foreground drop-shadow-lg",style:{textShadow:"0 2px 8px rgba(0,0,0,0.8)"},children:"BATTERY"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-0.5",children:[(0,s.jsx)("svg",{className:"w-2 h-2 sm:w-2.5 sm:h-2.5 text-muted-foreground drop-shadow-lg",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.111 16.404a5.5 5.5 0 017.778 0M12 20h.01m-7.08-7.071c3.904-3.905 10.236-3.905 14.141 0M1.394 9.393c5.857-5.857 15.355-5.857 21.213 0"})}),(0,s.jsx)("span",{className:"text-muted-foreground drop-shadow-lg",style:{textShadow:"0 2px 8px rgba(0,0,0,0.8)"},children:"WI-FI"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-0.5",children:[(0,s.jsx)("svg",{className:"w-2 h-2 sm:w-2.5 sm:h-2.5 text-muted-foreground drop-shadow-lg",fill:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{d:"M17.71 11.71L12 6h-.01L6.29 11.71C6.11 11.9 6 12.15 6 12.4c0 .25.11.5.29.71L12 18.83l5.71-5.71c.18-.21.29-.46.29-.71zM12 5.04L6.41 10.63 12 16.22l5.59-5.59L12 5.04z"})}),(0,s.jsx)("span",{className:"text-muted-foreground drop-shadow-lg",style:{textShadow:"0 2px 8px rgba(0,0,0,0.8)"},children:"BLUETOOTH"})]}),(0,s.jsx)("div",{className:"w-px h-2.5 sm:h-3 bg-border hidden sm:block"}),(0,s.jsxs)("div",{className:"flex items-center gap-1 sm:gap-2",children:[(0,s.jsxs)("div",{className:"flex items-center gap-0.5",children:[(0,s.jsx)("span",{className:"text-primary font-mono drop-shadow-lg",style:{textShadow:"0 2px 8px rgba(0,0,0,0.8)"},children:"HS"}),(0,s.jsxs)("span",{className:"text-foreground drop-shadow-lg",style:{textShadow:"0 2px 8px rgba(0,0,0,0.8)"},children:[t.speed.toFixed(1),"m/s"]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-0.5",children:[(0,s.jsx)("span",{className:"text-primary font-mono drop-shadow-lg",style:{textShadow:"0 2px 8px rgba(0,0,0,0.8)"},children:"H"}),(0,s.jsxs)("span",{className:"text-foreground drop-shadow-lg",style:{textShadow:"0 2px 8px rgba(0,0,0,0.8)"},children:[t.height.toFixed(1),"m"]})]})]})]})})}function o(e){let{onNavigate:t}=e;return(0,s.jsx)("div",{className:"flex items-center justify-center gap-1 sm:gap-2 md:gap-3 lg:gap-4 flex-wrap",children:[{id:"takeoff",icon:"takeoff",label:"TAKEOFF\nAND\nLANDING"},{id:"flight",icon:"flight",label:"FLIGHT\nMODES"},{id:"settings",icon:"settings",label:"SETTINGS"}].map(e=>(0,s.jsxs)("button",{onClick:()=>{"takeoff"===e.id?t("takeoff"):"flight"===e.id?t("flight-modes"):"settings"===e.id&&t("settings")},className:"flex flex-col items-center gap-0.5 group transition-transform hover:scale-110",children:[(0,s.jsx)("div",{className:"w-8 sm:w-10 md:w-12 lg:w-14 h-8 sm:h-10 md:h-12 lg:h-14 rounded-full border-2 border-foreground/40 flex items-center justify-center group-hover:border-primary group-hover:text-primary transition-colors",children:(0,s.jsxs)("svg",{className:"w-4 sm:w-5 md:w-5.5 lg:w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:["takeoff"===e.icon&&(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M7 16V4m0 0L3 8m4-4l4 4m6 0v12m0 0l4-4m-4 4l-4-4"}),"flight"===e.icon&&(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M13 10V3L4 14h7v7l9-11h-7z"}),"settings"===e.icon&&(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"})]})}),(0,s.jsx)("span",{className:"text-[6px] sm:text-[7px] md:text-[8px] lg:text-[9px] font-mono font-bold leading-tight text-center whitespace-pre-line text-primary drop-shadow-lg",style:{textShadow:"0 2px 8px rgba(0,0,0,0.8)"},children:e.label})]},e.id))})}var l=r(27815),d=r(85754),c=r(86443),x=r(45179),m=r(56288);function u(e){let{onBack:t}=e,[r,a]=(0,n.useState)({wifiSSID:"DRONE_5G_FPV",wifiChannel:"2.4GHz / Channel 6",autoReconnect:!0,maxAltitude:120,maxDistance:500,returnToHome:!0,beginnerMode:!1,controlMode:"MODE 2",hapticFeedback:!0,audioAlerts:!0}),[i,o]=(0,n.useState)(null),[u,h]=(0,n.useState)(""),f=(e,t)=>{o(e),h(t)},p=e=>{u&&a(t=>({...t,[e]:isNaN(Number(u))?u:Number(u)})),o(null)},g=e=>{a(t=>({...t,[e]:!t[e]}))};return(0,s.jsxs)("div",{className:"p-4 space-y-4 pb-24",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-xl font-bold text-foreground mb-1",children:"SETTINGS"}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground font-mono",children:"Configure drone parameters"})]}),(0,s.jsx)(d.z,{onClick:t,variant:"outline",size:"sm",className:"text-xs font-mono bg-transparent",children:"BACK"})]}),(0,s.jsxs)(l.Zb,{className:"p-3 bg-card/80 backdrop-blur border-border clip-corner",children:[(0,s.jsx)("p",{className:"text-xs font-mono text-muted-foreground mb-3",children:"CONNECTION"}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between py-2 border-b border-border",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-mono text-foreground",children:"WiFi SSID"}),(0,s.jsx)("p",{className:"text-[10px] text-muted-foreground",children:"Currently connected"})]}),(0,s.jsx)(d.z,{variant:"outline",size:"sm",className:"text-xs font-mono bg-transparent",onClick:()=>f("wifiSSID",r.wifiSSID),children:r.wifiSSID})]}),"wifiSSID"===i&&(0,s.jsxs)("div",{className:"flex gap-2 py-2",children:[(0,s.jsx)(x.I,{value:u,onChange:e=>h(e.target.value),className:"text-xs",placeholder:"Enter WiFi SSID"}),(0,s.jsx)(d.z,{size:"sm",className:"text-xs font-mono bg-primary",onClick:()=>p("wifiSSID"),children:"SAVE"})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between py-2 border-b border-border",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-mono text-foreground",children:"Channel"}),(0,s.jsx)("p",{className:"text-[10px] text-muted-foreground",children:r.wifiChannel})]}),(0,s.jsx)(d.z,{variant:"outline",size:"sm",className:"text-xs font-mono bg-transparent",onClick:()=>{m.Am.loading("Scanning for networks...",{duration:2e3}),setTimeout(()=>m.Am.success("Scan complete. 12 networks found."),2e3)},children:"SCAN"})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between py-2",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-mono text-foreground",children:"Auto Reconnect"}),(0,s.jsx)("p",{className:"text-[10px] text-muted-foreground",children:"On signal loss"})]}),(0,s.jsx)(c.r,{checked:r.autoReconnect,onCheckedChange:()=>g("autoReconnect")})]})]})]}),(0,s.jsxs)(l.Zb,{className:"p-3 bg-card/80 backdrop-blur border-border clip-corner",children:[(0,s.jsx)("p",{className:"text-xs font-mono text-muted-foreground mb-3",children:"FLIGHT"}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between py-2 border-b border-border",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-mono text-foreground",children:"Max Altitude"}),(0,s.jsx)("p",{className:"text-[10px] text-muted-foreground",children:"Safety limit"})]}),(0,s.jsxs)(d.z,{variant:"outline",size:"sm",className:"text-xs font-mono bg-transparent",onClick:()=>f("maxAltitude",String(r.maxAltitude)),children:[r.maxAltitude,"m"]})]}),"maxAltitude"===i&&(0,s.jsxs)("div",{className:"flex gap-2 py-2",children:[(0,s.jsx)(x.I,{type:"number",value:u,onChange:e=>h(e.target.value),className:"text-xs",placeholder:"Enter altitude"}),(0,s.jsx)(d.z,{size:"sm",className:"text-xs font-mono bg-primary",onClick:()=>p("maxAltitude"),children:"SAVE"})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between py-2 border-b border-border",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-mono text-foreground",children:"Max Distance"}),(0,s.jsx)("p",{className:"text-[10px] text-muted-foreground",children:"RTH trigger"})]}),(0,s.jsxs)(d.z,{variant:"outline",size:"sm",className:"text-xs font-mono bg-transparent",onClick:()=>f("maxDistance",String(r.maxDistance)),children:[r.maxDistance,"m"]})]}),"maxDistance"===i&&(0,s.jsxs)("div",{className:"flex gap-2 py-2",children:[(0,s.jsx)(x.I,{type:"number",value:u,onChange:e=>h(e.target.value),className:"text-xs",placeholder:"Enter distance"}),(0,s.jsx)(d.z,{size:"sm",className:"text-xs font-mono bg-primary",onClick:()=>p("maxDistance"),children:"SAVE"})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between py-2 border-b border-border",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-mono text-foreground",children:"Return to Home"}),(0,s.jsx)("p",{className:"text-[10px] text-muted-foreground",children:"On signal loss"})]}),(0,s.jsx)(c.r,{checked:r.returnToHome,onCheckedChange:()=>g("returnToHome")})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between py-2",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-mono text-foreground",children:"Beginner Mode"}),(0,s.jsx)("p",{className:"text-[10px] text-muted-foreground",children:"Limited speed"})]}),(0,s.jsx)(c.r,{checked:r.beginnerMode,onCheckedChange:()=>g("beginnerMode")})]})]})]}),(0,s.jsxs)(l.Zb,{className:"p-3 bg-card/80 backdrop-blur border-border clip-corner",children:[(0,s.jsx)("p",{className:"text-xs font-mono text-muted-foreground mb-3",children:"CONTROLLER"}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between py-2 border-b border-border",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-mono text-foreground",children:"Control Mode"}),(0,s.jsx)("p",{className:"text-[10px] text-muted-foreground",children:r.controlMode})]}),(0,s.jsx)(d.z,{variant:"outline",size:"sm",className:"text-xs font-mono bg-transparent",onClick:()=>m.Am.info("Control Mode 1 and 2 are currently supported."),children:"CHANGE"})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between py-2 border-b border-border",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-mono text-foreground",children:"Haptic Feedback"}),(0,s.jsx)("p",{className:"text-[10px] text-muted-foreground",children:"Vibration"})]}),(0,s.jsx)(c.r,{checked:r.hapticFeedback,onCheckedChange:()=>g("hapticFeedback")})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between py-2",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-mono text-foreground",children:"Audio Alerts"}),(0,s.jsx)("p",{className:"text-[10px] text-muted-foreground",children:"Voice warnings"})]}),(0,s.jsx)(c.r,{checked:r.audioAlerts,onCheckedChange:()=>g("audioAlerts")})]})]})]}),(0,s.jsxs)(l.Zb,{className:"p-3 bg-card/80 backdrop-blur border-border clip-corner",children:[(0,s.jsx)("p",{className:"text-xs font-mono text-muted-foreground mb-3",children:"SYSTEM"}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between py-2 border-b border-border",children:[(0,s.jsx)("p",{className:"text-xs font-mono text-muted-foreground",children:"Firmware"}),(0,s.jsx)("p",{className:"text-xs font-mono text-foreground",children:"v4.5.2"})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between py-2 border-b border-border",children:[(0,s.jsx)("p",{className:"text-xs font-mono text-muted-foreground",children:"Controller"}),(0,s.jsx)("p",{className:"text-xs font-mono text-foreground",children:"v2.1.0"})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between py-2",children:[(0,s.jsx)("p",{className:"text-xs font-mono text-muted-foreground",children:"Flight Time"}),(0,s.jsx)("p",{className:"text-xs font-mono text-foreground",children:"24h 36m"})]})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(d.z,{variant:"outline",className:"w-full h-12 font-mono clip-corner bg-transparent",onClick:()=>{m.Am.promise(new Promise(e=>setTimeout(e,3e3)),{loading:"Calibrating IMU... Keep drone level.",success:"Sensor calibration successful.",error:"Calibration failed. Check hardware."})},children:"CALIBRATE SENSORS"}),(0,s.jsx)(d.z,{variant:"outline",className:"w-full h-12 font-mono clip-corner bg-transparent",onClick:()=>{m.Am.info("Checking for firmware updates..."),setTimeout(()=>m.Am.success("Firmware is up to date (v4.5.2)"),1500)},children:"UPDATE FIRMWARE"}),(0,s.jsx)(d.z,{variant:"outline",className:"w-full h-12 font-mono border-destructive text-destructive hover:bg-destructive/10 clip-corner bg-transparent",onClick:()=>{confirm("Are you sure you want to revert to factory settings? All mission data will be lost.")&&(m.Am.error("SYSTEM RESET INITIATED",{description:"Please wait..."}),setTimeout(()=>window.location.reload(),2e3))},children:"FACTORY RESET"})]})]})}var h=r(26579),f=r(1657);function p(e){let{className:t,defaultValue:r,value:a,min:i=0,max:o=100,...l}=e,d=n.useMemo(()=>Array.isArray(a)?a:Array.isArray(r)?r:[i,o],[a,r,i,o]);return(0,s.jsxs)(h.fC,{"data-slot":"slider",defaultValue:r,value:a,min:i,max:o,className:(0,f.cn)("relative flex w-full touch-none items-center select-none data-[disabled]:opacity-50 data-[orientation=vertical]:h-full data-[orientation=vertical]:min-h-44 data-[orientation=vertical]:w-auto data-[orientation=vertical]:flex-col",t),...l,children:[(0,s.jsx)(h.fQ,{"data-slot":"slider-track",className:"bg-muted relative grow overflow-hidden rounded-full data-[orientation=horizontal]:h-1.5 data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-1.5",children:(0,s.jsx)(h.e6,{"data-slot":"slider-range",className:"bg-primary absolute data-[orientation=horizontal]:h-full data-[orientation=vertical]:w-full"})}),Array.from({length:d.length},(e,t)=>(0,s.jsx)(h.bU,{"data-slot":"slider-thumb",className:"border-primary ring-ring/50 block size-4 shrink-0 rounded-full border bg-white shadow-sm transition-[color,box-shadow] hover:ring-4 focus-visible:ring-4 focus-visible:outline-hidden disabled:pointer-events-none disabled:opacity-50"},t))]})}function g(e){let{onBack:t}=e,[r,a]=(0,n.useState)("stabilize"),[i,o]=(0,n.useState)(!1),[c,x]=(0,n.useState)("roll"),[u,h]=(0,n.useState)({roll:{p:4.5,i:.2,d:1.8},pitch:{p:4.5,i:.2,d:1.8},yaw:{p:5.2,i:.1,d:.5}}),f=(e,t,r)=>{h(s=>({...s,[e]:{...s[e],[t]:r}}))},g=u[c],b=[{id:"stabilize",name:"STABILIZE",description:"Self-leveling, angle limited. Best for beginners.",icon:"shield"},{id:"alt-hold",name:"ALTITUDE HOLD",description:"Maintains height automatically using barometer.",icon:"bar-chart"},{id:"sport",name:"SPORT",description:"High angles, no self-leveling. For experts.",icon:"zap"},{id:"acro",name:"ACRO",description:"Direct gyroscope control. Full manual flight.",icon:"activity"}],v=e=>"shield"===e?(0,s.jsx)("svg",{className:"w-5 h-5 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}):"bar-chart"===e?(0,s.jsx)("svg",{className:"w-5 h-5 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}):"zap"===e?(0,s.jsx)("svg",{className:"w-5 h-5 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M13 10V3L4 14h7v7l9-11h-7z"})}):(0,s.jsx)("svg",{className:"w-5 h-5 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})});return i?(0,s.jsxs)("div",{className:"p-4 space-y-4 pb-24",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-xl font-bold text-foreground mb-1",children:"PID TUNING"}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground font-mono",children:"Advanced configuration"})]}),(0,s.jsx)(d.z,{onClick:()=>o(!1),variant:"outline",size:"sm",className:"text-xs font-mono bg-transparent",children:"BACK"})]}),(0,s.jsxs)(l.Zb,{className:"p-3 bg-card/80 backdrop-blur border-border clip-corner",children:[(0,s.jsx)("p",{className:"text-xs font-mono text-muted-foreground mb-2",children:"SELECT AXIS"}),(0,s.jsx)("div",{className:"grid grid-cols-3 gap-2",children:["roll","pitch","yaw"].map(e=>(0,s.jsx)(d.z,{onClick:()=>x(e),variant:c===e?"default":"outline",className:"font-mono uppercase ".concat(c===e?"bg-primary text-primary-foreground":""),children:e},e))})]}),(0,s.jsxs)(l.Zb,{className:"p-4 bg-card/80 backdrop-blur border-border clip-corner space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex justify-between mb-2",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-mono font-bold text-foreground",children:"P (Proportional)"}),(0,s.jsx)("p",{className:"text-[10px] text-muted-foreground",children:"Immediate response"})]}),(0,s.jsx)("p",{className:"text-sm font-mono text-primary font-bold",children:g.p.toFixed(1)})]}),(0,s.jsx)(p,{value:[g.p],onValueChange:e=>{let[t]=e;return f(c,"p",t)},min:0,max:100,step:1,className:"w-full"})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex justify-between mb-2",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-mono font-bold text-foreground",children:"I (Integral)"}),(0,s.jsx)("p",{className:"text-[10px] text-muted-foreground",children:"Error correction"})]}),(0,s.jsx)("p",{className:"text-sm font-mono text-primary font-bold",children:g.i.toFixed(1)})]}),(0,s.jsx)(p,{value:[g.i],onValueChange:e=>{let[t]=e;return f(c,"i",t)},min:0,max:100,step:1,className:"w-full"})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex justify-between mb-2",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-mono font-bold text-foreground",children:"D (Derivative)"}),(0,s.jsx)("p",{className:"text-[10px] text-muted-foreground",children:"Dampening"})]}),(0,s.jsx)("p",{className:"text-sm font-mono text-primary font-bold",children:g.d.toFixed(1)})]}),(0,s.jsx)(p,{value:[g.d],onValueChange:e=>{let[t]=e;return f(c,"d",t)},min:0,max:100,step:1,className:"w-full"})]})]}),(0,s.jsx)(d.z,{className:"w-full h-12 font-mono clip-corner bg-primary hover:bg-primary/90",onClick:()=>{m.Am.success("PID parameters synced to drone memory."),o(!1)},children:"SAVE PID SETTINGS"})]}):(0,s.jsxs)("div",{className:"p-4 space-y-4 pb-24",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-xl font-bold text-foreground mb-1",children:"FLIGHT MODES"}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground font-mono",children:"Select your flight mode"})]}),(0,s.jsx)(d.z,{onClick:t,variant:"outline",size:"sm",className:"text-xs font-mono bg-transparent",children:"BACK"})]}),(0,s.jsx)("div",{className:"grid grid-cols-1 gap-3",children:b.map(e=>(0,s.jsx)(l.Zb,{onClick:()=>a(e.id),className:"p-4 bg-card/80 backdrop-blur border-2 clip-corner cursor-pointer transition-all ".concat(r===e.id?"border-primary bg-primary/10":"border-border hover:border-primary/50"),children:(0,s.jsxs)("div",{className:"flex items-start gap-3",children:[v(e.id),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("p",{className:"font-mono font-bold text-foreground",children:e.name}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground font-mono mt-1",children:e.description})]}),r===e.id&&(0,s.jsx)("div",{className:"w-6 h-6 rounded-full border-2 border-primary bg-primary/20 flex items-center justify-center flex-shrink-0",children:(0,s.jsx)("div",{className:"w-2 h-2 rounded-full bg-primary"})})]})},e.id))}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(d.z,{onClick:()=>o(!0),className:"w-full h-12 font-mono clip-corner bg-primary hover:bg-primary/90",children:"OPEN PID TUNING"}),(0,s.jsx)(d.z,{variant:"outline",className:"w-full h-12 font-mono clip-corner bg-transparent",onClick:()=>{var e;let s=null===(e=b.find(e=>e.id===r))||void 0===e?void 0:e.name;m.Am.success("FLIGHT MODE ENGAGED: ".concat(s)),t()},children:"APPLY MODE"})]})]})}function b(){return(0,s.jsxs)("div",{className:"absolute inset-0 overflow-hidden bg-cover bg-center",style:{backgroundImage:"url(/drone-bg.jpg)",backgroundAttachment:"fixed"},children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-black/70 via-black/60 to-black/70"}),(0,s.jsxs)("svg",{className:"absolute inset-0 w-full h-full",preserveAspectRatio:"none",children:[(0,s.jsxs)("defs",{children:[(0,s.jsx)("pattern",{id:"hexGrid",x:"0",y:"0",width:"60",height:"60",patternUnits:"userSpaceOnUse",children:(0,s.jsx)("path",{d:"M30,0 L60,17.32 L60,51.96 L30,69.28 L0,51.96 L0,17.32 Z",fill:"none",stroke:"rgba(118, 185, 0, 0.15)",strokeWidth:"1.5"})}),(0,s.jsx)("pattern",{id:"navGridV",x:"0",y:"0",width:"80",height:"1",patternUnits:"userSpaceOnUse",children:(0,s.jsx)("line",{x1:"0",y1:"0",x2:"80",y2:"0",stroke:"rgba(30, 144, 255, 0.08)",strokeWidth:"1"})}),(0,s.jsx)("pattern",{id:"navGridH",x:"0",y:"0",width:"1",height:"80",patternUnits:"userSpaceOnUse",children:(0,s.jsx)("line",{x1:"0",y1:"0",x2:"0",y2:"80",stroke:"rgba(30, 144, 255, 0.08)",strokeWidth:"1"})}),(0,s.jsxs)("radialGradient",{id:"glowCenter",cx:"50%",cy:"50%",r:"50%",children:[(0,s.jsx)("stop",{offset:"0%",stopColor:"rgba(118, 185, 0, 0.08)"}),(0,s.jsx)("stop",{offset:"100%",stopColor:"rgba(118, 185, 0, 0)"})]})]}),(0,s.jsx)("rect",{width:"100%",height:"100%",fill:"url(#hexGrid)"}),(0,s.jsx)("rect",{width:"100%",height:"100%",fill:"url(#navGridV)"}),(0,s.jsx)("rect",{width:"100%",height:"100%",fill:"url(#navGridH)"}),(0,s.jsx)("circle",{cx:"50%",cy:"50%",r:"40%",fill:"url(#glowCenter)"})]}),(0,s.jsx)("div",{className:"absolute top-0 left-1/4 w-1 h-1/3 bg-gradient-to-b from-blue-500/20 to-transparent blur-xl"}),(0,s.jsx)("div",{className:"absolute bottom-0 right-1/4 w-1 h-1/3 bg-gradient-to-t from-green-500/15 to-transparent blur-xl"})]})}var v=r(33319);function j(){var e,t;let[r,l]=(0,n.useState)("main"),{telemetry:d,sendControl:c,isConnected:x}=(0,v.t)(),[m,h]=(0,n.useState)({left:{vertical:0,horizontal:0},right:{horizontal:0,vertical:0}});(0,n.useEffect)(()=>{if(!x)return;let e=20*m.right.vertical;c(20*m.right.horizontal,e,-(150*m.left.horizontal),Math.max(0,(m.left.vertical+1)*3e4))},[m,x,c]);let f={battery:null!==(e=null==d?void 0:d.battery)&&void 0!==e?e:0,wifiSignal:x,bluetoothSignal:!1,speed:0,height:null!==(t=null==d?void 0:d.altitude)&&void 0!==t?t:0};return(0,s.jsxs)("div",{className:"min-h-screen bg-background relative overflow-hidden",children:[(0,s.jsx)(b,{}),(0,s.jsxs)("div",{className:"relative z-10 flex flex-col h-screen w-screen",children:[(0,s.jsx)(i,{data:f}),(0,s.jsxs)("div",{className:"flex-1 flex flex-col items-center justify-center px-1 sm:px-2 md:px-4 py-1 sm:py-2 md:py-3 gap-1 sm:gap-2 md:gap-3 w-full overflow-hidden",children:[(0,s.jsx)(o,{onNavigate:l}),"main"===r&&(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("div",{className:"flex-1 w-full flex items-center justify-center min-h-0",children:(0,s.jsx)(a,{onLeftChange:e=>h(t=>({...t,left:e})),onRightChange:e=>h(t=>({...t,right:e}))})})}),"settings"===r&&(0,s.jsx)("div",{className:"flex-1 w-full overflow-auto max-h-full",children:(0,s.jsx)(u,{onBack:()=>l("main")})}),"flight-modes"===r&&(0,s.jsx)("div",{className:"flex-1 w-full overflow-auto max-h-full",children:(0,s.jsx)(g,{onBack:()=>l("main")})}),"takeoff"===r&&(0,s.jsxs)("div",{className:"flex-1 flex flex-col items-center justify-center gap-2 sm:gap-3 md:gap-4",children:[(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("h2",{className:"text-base sm:text-lg md:text-2xl font-bold text-primary mb-1 sm:mb-2",children:"TAKEOFF & LANDING"}),(0,s.jsx)("p",{className:"text-[11px] sm:text-sm md:text-base text-foreground/60 mb-2 sm:mb-4",children:"Use throttle to control altitude"})]}),(0,s.jsx)("button",{onClick:()=>l("main"),className:"px-3 sm:px-6 py-1.5 sm:py-2 bg-primary text-background font-bold text-[11px] sm:text-base rounded hover:opacity-90 transition-opacity",children:"BACK"})]})]})]})]})}},85754:function(e,t,r){"use strict";r.d(t,{z:function(){return l}});var s=r(3827);r(64090);var n=r(59143),a=r(49769),i=r(1657);let o=(0,a.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9","icon-sm":"size-8","icon-lg":"size-10"}},defaultVariants:{variant:"default",size:"default"}});function l(e){let{className:t,variant:r,size:a,asChild:l=!1,...d}=e,c=l?n.g7:"button";return(0,s.jsx)(c,{"data-slot":"button",className:(0,i.cn)(o({variant:r,size:a,className:t})),...d})}},27815:function(e,t,r){"use strict";r.d(t,{Ol:function(){return i},SZ:function(){return l},Zb:function(){return a},aY:function(){return d},eW:function(){return c},ll:function(){return o}});var s=r(3827);r(64090);var n=r(1657);function a(e){let{className:t,...r}=e;return(0,s.jsx)("div",{"data-slot":"card",className:(0,n.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",t),...r})}function i(e){let{className:t,...r}=e;return(0,s.jsx)("div",{"data-slot":"card-header",className:(0,n.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...r})}function o(e){let{className:t,...r}=e;return(0,s.jsx)("div",{"data-slot":"card-title",className:(0,n.cn)("leading-none font-semibold",t),...r})}function l(e){let{className:t,...r}=e;return(0,s.jsx)("div",{"data-slot":"card-description",className:(0,n.cn)("text-muted-foreground text-sm",t),...r})}function d(e){let{className:t,...r}=e;return(0,s.jsx)("div",{"data-slot":"card-content",className:(0,n.cn)("px-6",t),...r})}function c(e){let{className:t,...r}=e;return(0,s.jsx)("div",{"data-slot":"card-footer",className:(0,n.cn)("flex items-center px-6 [.border-t]:pt-6",t),...r})}},45179:function(e,t,r){"use strict";r.d(t,{I:function(){return a}});var s=r(3827);r(64090);var n=r(1657);function a(e){let{className:t,type:r,...a}=e;return(0,s.jsx)("input",{type:r,"data-slot":"input",className:(0,n.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...a})}},86443:function(e,t,r){"use strict";r.d(t,{r:function(){return i}});var s=r(3827);r(64090);var n=r(94845),a=r(1657);function i(e){let{className:t,...r}=e;return(0,s.jsx)(n.fC,{"data-slot":"switch",className:(0,a.cn)("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",t),...r,children:(0,s.jsx)(n.bU,{"data-slot":"switch-thumb",className:"bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0"})})}},33319:function(e,t,r){"use strict";r.d(t,{t:function(){return n}});var s=r(64090);function n(){let[e,t]=(0,s.useState)(null),[r,n]=(0,s.useState)(!1),a=(0,s.useRef)(0),i=(0,s.useCallback)(async()=>{try{let e=await fetch("/api/drone/telemetry");if(e.ok){let r=await e.json();t(r)}else t(e=>e?{...e,connected:!1}:null)}catch(e){t(e=>e?{...e,connected:!1}:null)}},[]);return(0,s.useEffect)(()=>{let e=setInterval(i,1e3);return i(),()=>clearInterval(e)},[i]),{telemetry:e,sendControl:(0,s.useCallback)(async(e,t,r,s)=>{let n=Date.now();if(!(n-a.current<50)){a.current=n;try{await fetch("/api/drone/control",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:"setpoint",roll:e,pitch:t,yaw:r,thrust:Math.round(s)})})}catch(e){console.error("Failed to send control command:",e)}}},[]),requestTelemetryRefresh:(0,s.useCallback)(async()=>{try{await fetch("/api/drone/telemetry",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:"requestTelemetry"})})}catch(e){console.error("Failed to request telemetry:",e)}},[]),isConnected:(null==e?void 0:e.connected)||!1}}},1657:function(e,t,r){"use strict";r.d(t,{cn:function(){return a}});var s=r(75504),n=r(51367);function a(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,n.m6)((0,s.W)(t))}}},function(e){e.O(0,[150,288,87,971,69,744],function(){return e(e.s=41128)}),_N_E=e.O()}]);