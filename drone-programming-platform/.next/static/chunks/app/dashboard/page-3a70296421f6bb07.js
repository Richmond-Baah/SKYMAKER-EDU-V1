(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[702],{55227:function(e,t,r){Promise.resolve().then(r.bind(r,84262))},84262:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return Z}});var s=r(3827),a=r(64090),n=r(20333),l=r(97077),i=r(47935),d=r(27815),o=r(19160),c=r(77326),u=r(66260),x=r(81165),m=r(97404),b=r(95032),g=r(63195),f=r(99925),h=r(46578),p=r(8792),v=r(85754),j=r(31478),N=r(45179),w=r(23444),k=r(56288);function y(){let[e,t]=(0,a.useState)({assignmentCode:"",missionId:"",code:"",flightData:"{}",submitting:!1,result:null}),[r,n]=(0,a.useState)([]),[l,i]=(0,a.useState)(null),[o,c]=(0,a.useState)(null),[u,x]=(0,a.useState)(!1);async function m(){if(!e.assignmentCode.trim()){k.Am.error("Enter assignment code");return}x(!0);try{let r=await fetch("/api/assignments/".concat(encodeURIComponent(e.assignmentCode)));if(r.ok){let e=await r.json();n(e.missions),i(e.description||null),c(e.title||null),t(t=>({...t,missionId:e.missions[0]||""})),k.Am.success("Assignment loaded")}else k.Am.error("Assignment not found")}catch(e){k.Am.error("Failed to load assignment")}finally{x(!1)}}async function b(){if(!e.assignmentCode||!e.missionId||!e.code){k.Am.error("Fill in all fields");return}t(e=>({...e,submitting:!0}));try{let r=null;try{r=JSON.parse(e.flightData)}catch(e){r=null}let s=await fetch("/api/submissions/".concat(encodeURIComponent(e.assignmentCode)),{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({missionId:e.missionId,code:e.code,flightData:r})});if(s.ok){let{submission:e,grade:r}=await s.json();t(t=>({...t,result:{...r,submissionId:e.id}})),k.Am.success(r.passed?"Submission passed!":"Submission graded")}else{let e=await s.json();k.Am.error(e.error||"Submission failed")}}catch(e){k.Am.error("Error submitting code"),console.error(e)}finally{t(e=>({...e,submitting:!1}))}}return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)(d.Zb,{className:"bg-card border-border shadow-sm",children:[(0,s.jsx)(d.Ol,{className:"pb-3",children:(0,s.jsx)(d.ll,{className:"text-lg text-foreground",children:"Submit Your Code"})}),(0,s.jsxs)(d.aY,{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"text-sm font-bold uppercase tracking-widest text-muted-foreground",children:"Assignment Code"}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(N.I,{placeholder:"Enter 6-digit code",value:e.assignmentCode,onChange:e=>t(t=>({...t,assignmentCode:e.target.value.toUpperCase()})),disabled:r.length>0,className:"font-mono bg-background text-foreground border-input"}),(0,s.jsx)(v.z,{onClick:m,disabled:u||r.length>0,children:u?"Loading...":"Load"})]})]}),r.length>0&&(0,s.jsxs)(s.Fragment,{children:[(o||l)&&(0,s.jsxs)("div",{className:"p-3 bg-blue-500/5 border border-blue-500/10 rounded-lg space-y-1",children:[o&&(0,s.jsx)("div",{className:"font-bold text-sm text-foreground",children:o}),l&&(0,s.jsx)("div",{className:"text-xs text-muted-foreground",children:l})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"text-sm font-bold uppercase tracking-widest text-muted-foreground",children:"Mission"}),(0,s.jsx)("select",{value:e.missionId,onChange:e=>t(t=>({...t,missionId:e.target.value})),className:"w-full px-3 py-2 bg-background border border-input rounded text-foreground focus:outline-none focus:ring-2 focus:ring-ring",children:r.map(e=>(0,s.jsx)("option",{value:e,children:e},e))})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"text-sm font-bold uppercase tracking-widest text-muted-foreground",children:"Your Code"}),(0,s.jsx)(w.g,{placeholder:"Paste your Python code here...",value:e.code,onChange:e=>t(t=>({...t,code:e.target.value})),className:"font-mono h-32 bg-background text-foreground border-input"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"text-xs font-bold uppercase tracking-widest text-muted-foreground",children:"Flight Data (JSON, optional)"}),(0,s.jsx)(w.g,{placeholder:'{"altitude": 1.5, "roll": 0.1}',value:e.flightData,onChange:e=>t(t=>({...t,flightData:e.target.value})),className:"font-mono h-16 bg-background text-foreground border-input"})]}),(0,s.jsx)(v.z,{onClick:b,disabled:e.submitting,className:"w-full",children:e.submitting?"Submitting...":"Submit for Grading"})]})]})]}),e.result&&(0,s.jsxs)(d.Zb,{className:"bg-card border-2 ".concat(e.result.passed?"border-emerald-500/20":"border-amber-500/20"),children:[(0,s.jsx)(d.Ol,{className:"pb-3",children:(0,s.jsxs)(d.ll,{className:"flex items-center justify-between text-foreground",children:["Grade Result",(0,s.jsx)(j.C,{className:e.result.passed?"bg-emerald-500/10 text-emerald-600 dark:text-emerald-400":"bg-amber-500/10 text-amber-600 dark:text-amber-400",children:e.result.passed?"PASSED":"REVIEW"})]})}),(0,s.jsxs)(d.aY,{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"Score"}),(0,s.jsxs)("span",{className:"text-2xl font-bold text-foreground",children:[e.result.score,"%"]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-xs text-muted-foreground/60 uppercase tracking-widest",children:"Feedback"}),(0,s.jsx)("p",{className:"text-sm mt-1 text-foreground",children:e.result.feedback})]}),(0,s.jsx)("div",{className:"pt-2",children:(0,s.jsx)(v.z,{variant:"outline",onClick:()=>t(e=>({...e,result:null,code:"",assignmentCode:"",missionId:""})),className:"w-full",children:"Submit Another"})})]})]})]})}var C=r(47907),A=r(88838),E=r(6190),I=r(69475),T=r(71483),S=r(80479),R=r(85159),O=r(23441);function z(){let e=(0,n.f)(e=>e.user),[t,r]=(0,a.useState)([]),[l,i]=(0,a.useState)(!1),[o,c]=(0,a.useState)(null);async function u(){i(!0);try{let e=await fetch("/api/submissions/my-results");if(e.ok){let t=await e.json();r(t.results||[])}}catch(e){console.error("Failed to fetch results:",e)}finally{i(!1)}}return((0,a.useEffect)(()=>{e&&u()},[e]),e)?l?(0,s.jsx)(d.Zb,{className:"bg-card border-border shadow-sm",children:(0,s.jsx)(d.aY,{className:"p-6",children:(0,s.jsx)("div",{className:"text-sm text-muted-foreground",children:"Loading your results..."})})}):0===t.length?null:(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("h2",{className:"text-2xl font-bold tracking-tight text-foreground flex items-center gap-2",children:[(0,s.jsx)(I.Z,{className:"w-6 h-6 text-blue-500"}),"My Submission Results"]}),(0,s.jsx)("div",{className:"grid gap-3",children:t.map(e=>{var t,r;return(0,s.jsx)(d.Zb,{className:"bg-card border-border shadow-sm overflow-hidden ".concat((null===(t=e.grade)||void 0===t?void 0:t.passed)?"border-l-4 border-l-emerald-500":e.grade?"border-l-4 border-l-amber-500":""),children:(0,s.jsxs)("div",{className:"p-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"font-bold text-foreground text-sm",children:[e.assignmentTitle||"Assignment"," ",(0,s.jsxs)("span",{className:"text-muted-foreground font-mono text-xs",children:["(",e.assignmentCode||"N/A",")"]})]}),e.assignmentDescription&&(0,s.jsx)("div",{className:"text-xs text-muted-foreground mt-0.5 line-clamp-2",children:e.assignmentDescription}),(0,s.jsxs)("div",{className:"text-[10px] text-muted-foreground uppercase tracking-widest mt-0.5",children:["Mission: ",e.missionId," • Submitted: ",new Date(e.createdAt).toLocaleString()]})]}),(0,s.jsx)("div",{className:"flex items-center gap-2",children:e.grade?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(j.C,{className:e.grade.passed?"bg-emerald-500/10 text-emerald-600 dark:text-emerald-400 border-emerald-500/20":"bg-amber-500/10 text-amber-600 dark:text-amber-400 border-amber-500/20",children:e.grade.passed?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(h.Z,{className:"w-3 h-3 mr-1"})," PASSED"]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(T.Z,{className:"w-3 h-3 mr-1"})," NEEDS REVIEW"]})}),(0,s.jsxs)("span",{className:"text-xl font-bold text-foreground",children:[e.grade.score,"%"]})]}):(0,s.jsx)(j.C,{variant:"outline",className:"text-muted-foreground border-border",children:"AWAITING GRADE"})})]}),e.grade&&e.grade.feedback&&(0,s.jsxs)("div",{className:"mt-3 text-xs text-muted-foreground bg-muted/20 rounded p-3",children:[(0,s.jsx)("span",{className:"font-bold uppercase tracking-widest text-[9px] text-foreground",children:"Feedback: "}),e.grade.feedback]}),(null===(r=e.grade)||void 0===r?void 0:r.breakdown)&&Object.keys(e.grade.breakdown).length>0&&(0,s.jsx)("div",{className:"mt-2 flex flex-wrap gap-2",children:Object.entries(e.grade.breakdown).map(e=>{let[t,r]=e;return(0,s.jsxs)("span",{className:"text-[10px] bg-muted/30 text-muted-foreground rounded px-2 py-1 font-mono",children:[t,": ","number"==typeof r?r:String(r)]},t)})}),(0,s.jsxs)("div",{className:"mt-3",children:[(0,s.jsxs)("button",{onClick:()=>c(t=>t===e.id?null:e.id),className:"flex items-center gap-1.5 text-xs text-blue-500 hover:text-blue-400 transition-colors font-bold uppercase tracking-widest",children:[(0,s.jsx)(S.Z,{className:"w-3.5 h-3.5"}),o===e.id?"Hide My Code":"View My Code",o===e.id?(0,s.jsx)(R.Z,{className:"w-3 h-3"}):(0,s.jsx)(O.Z,{className:"w-3 h-3"})]}),o===e.id&&(0,s.jsx)("div",{className:"mt-2 bg-muted/40 border border-border rounded-lg p-3 overflow-x-auto",children:(0,s.jsx)("pre",{className:"text-xs font-mono text-foreground whitespace-pre-wrap break-words",children:e.code})})]})]})},e.id)})})]}):null}function Z(){let{completedLessons:e,metrics:t,setLesson:r,redeemAssignment:N}=(0,n.f)(),w=(0,n.f)(e=>e.role),I=(0,C.useRouter)(),[T,S]=(0,a.useState)("list"),[R,O]=(0,a.useState)("");async function Z(){let e;let t=R.trim();if(!t){k.Am.error("Enter assignment code");return}try{let r=await fetch("/api/assignments/".concat(encodeURIComponent(t)));r.ok&&(e=await r.json())}catch(t){e=void 0}if(e||(e=(0,i.lr)(t)),!e){k.Am.error("Invalid assignment code");return}N(e.missions);let r=e.description?": ".concat(e.description):"";k.Am.success("Assignment added to your missions".concat(r)),O("")}let _=e.length/l.N.length*100;return(0,s.jsxs)("div",{className:"min-h-screen bg-background text-foreground selection:bg-blue-500/30 transition-colors duration-300",children:[(0,s.jsxs)("div",{className:"fixed inset-0 pointer-events-none overflow-hidden",children:[(0,s.jsx)("div",{className:"absolute top-[-10%] right-[-10%] w-[60%] h-[60%] bg-blue-600/10 blur-[150px] rounded-full"}),(0,s.jsx)("div",{className:"absolute bottom-[-10%] left-[-10%] w-[50%] h-[50%] bg-emerald-600/5 blur-[120px] rounded-full"}),(0,s.jsx)("div",{className:"absolute top-[20%] left-[10%] w-[30%] h-[30%] bg-purple-600/5 blur-[100px] rounded-full"})]}),(0,s.jsxs)("main",{className:"container mx-auto py-12 px-6 relative z-10 space-y-12",children:[(0,s.jsxs)("div",{className:"flex flex-col md:flex-row md:items-end justify-between gap-6",children:[(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)(E.BackButton,{label:"RETURN TO FLIGHT DECK"}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("h1",{className:"text-5xl font-black tracking-tighter bg-clip-text text-transparent bg-gradient-to-b from-foreground to-foreground/40 flex items-center gap-4",children:["PILOT LOGS","teacher"===w&&(0,s.jsx)(j.C,{className:"bg-purple-500/10 text-purple-500 border-purple-500/20 px-3 py-1 text-[10px] font-black uppercase tracking-widest h-fit",children:"TEACHER VIEW"})]}),(0,s.jsxs)("p",{className:"text-muted-foreground font-mono text-sm uppercase tracking-widest flex items-center gap-2",children:[(0,s.jsx)(c.Z,{className:"w-4 h-4 text-drone-blue"}),"OPERATIONAL DATA & PERFORMANCE METRICS"]})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4 bg-card border border-border p-2 rounded-2xl shadow-sm",children:[(0,s.jsxs)("div",{className:"px-6 py-2 border-r border-border",children:[(0,s.jsx)("div",{className:"text-[10px] text-muted-foreground font-bold uppercase tracking-widest",children:"Global Rank"}),(0,s.jsx)("div",{className:"text-xl font-bold text-blue-500",children:"#1,248"})]}),(0,s.jsxs)("div",{className:"px-6 py-2 border-r border-border",children:[(0,s.jsx)("div",{className:"text-[10px] text-muted-foreground font-bold uppercase tracking-widest",children:"Total XP"}),(0,s.jsx)("div",{className:"text-xl font-bold text-emerald-500",children:(150*e.length).toLocaleString()})]}),"teacher"!==w&&(0,s.jsxs)("div",{className:"px-4 py-2 flex items-center gap-2",children:[(0,s.jsx)("input",{"aria-label":"Redeem assignment code",className:"bg-muted border border-border rounded px-2 py-1 text-sm w-36 text-foreground placeholder-muted-foreground",placeholder:"Redeem code",value:R,onChange:e=>O(e.target.value)}),(0,s.jsx)(v.z,{size:"sm",onClick:Z,children:"Redeem"})]}),"teacher"===w&&(0,s.jsx)("div",{className:"px-2 border-l border-border",children:(0,s.jsx)(p.default,{href:"/classroom",children:(0,s.jsx)(v.z,{size:"sm",className:"bg-purple-600 hover:bg-purple-500 text-white font-bold h-9 px-4 rounded-xl shadow-lg shadow-purple-500/20 transition-all hover:scale-105 active:scale-95",children:"TEACHER DASHBOARD"})})})]}),(0,s.jsx)("div",{className:"bg-card border border-border p-2 rounded-2xl shadow-sm h-full flex items-center justify-center aspect-square",children:(0,s.jsx)(A.$,{})})]})]}),"teacher"!==w&&(0,s.jsxs)("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[(0,s.jsx)(D,{title:"CURRICULUM",value:"".concat(e.length," / ").concat(l.N.length),subtitle:"".concat(_.toFixed(0),"% CERTIFIED"),icon:(0,s.jsx)(u.Z,{className:"w-5 h-5 text-amber-500"}),progress:_,color:"amber"}),(0,s.jsx)(D,{title:"ACCURACY",value:"".concat((t.accuracy||0).toFixed(1),"m"),subtitle:"PATH DEVIATION DELTA",icon:(0,s.jsx)(x.Z,{className:"w-5 h-5 text-cyan-500"}),color:"cyan"}),(0,s.jsx)(D,{title:"STABILITY",value:(t.stability||0).toFixed(1),subtitle:"GYRO-STABLE INDEX",icon:(0,s.jsx)(m.Z,{className:"w-5 h-5 text-emerald-500"}),color:"emerald"}),(0,s.jsx)(D,{title:"CURRENT RANK",value:"CADET",subtitle:"NEXT: FLIGHT OFFICER",icon:(0,s.jsx)(b.Z,{className:"w-5 h-5 text-blue-500"}),color:"blue"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,s.jsxs)(d.Zb,{className:"lg:col-span-2 bg-card border-border shadow-xl overflow-hidden rounded-3xl",children:[(0,s.jsxs)(d.Ol,{className:"p-8 border-b border-border flex flex-row items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(d.ll,{className:"text-2xl font-bold tracking-tight text-foreground",children:"Mission History"}),(0,s.jsx)(d.SZ,{className:"text-muted-foreground",children:"Real-time status of all curriculum modules"})]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(v.z,{size:"icon",variant:"outline",className:"h-8 w-8 rounded-lg transition-all ".concat("grid"===T?"bg-muted text-foreground":"text-muted-foreground"),onClick:()=>S("grid"),children:(0,s.jsx)(g.Z,{className:"w-4 h-4"})}),(0,s.jsx)(v.z,{size:"icon",variant:"outline",className:"h-8 w-8 rounded-lg transition-all ".concat("list"===T?"bg-muted text-foreground":"text-muted-foreground"),onClick:()=>S("list"),children:(0,s.jsx)(f.Z,{className:"w-4 h-4"})})]})]}),(0,s.jsx)(d.aY,{className:"p-0",children:"list"===T?(0,s.jsxs)(o.Table,{children:[(0,s.jsx)(o.TableHeader,{className:"bg-muted/30",children:(0,s.jsxs)(o.TableRow,{className:"hover:bg-transparent border-border",children:[(0,s.jsx)(o.TableHead,{className:"w-[120px] pl-8 text-[10px] font-black uppercase tracking-widest text-muted-foreground",children:"Module ID"}),(0,s.jsx)(o.TableHead,{className:"text-[10px] font-black uppercase tracking-widest text-muted-foreground",children:"Objective"}),(0,s.jsx)(o.TableHead,{className:"text-[10px] font-black uppercase tracking-widest text-muted-foreground text-center",children:"Status"}),(0,s.jsx)(o.TableHead,{className:"text-[10px] font-black uppercase tracking-widest text-muted-foreground",children:"Tier"}),(0,s.jsx)(o.TableHead,{className:"text-right pr-8 text-[10px] font-black uppercase tracking-widest text-muted-foreground",children:"Action"})]})}),(0,s.jsx)(o.TableBody,{children:l.N.map(t=>{let a=e.includes(t.id),n=t.prerequisites.some(t=>!e.includes(t))&&t.id!==l.N[0].id;return(0,s.jsxs)(o.TableRow,{className:"border-border hover:bg-muted/20 transition-colors group ".concat(n?"opacity-50 grayscale":""),children:[(0,s.jsx)(o.TableCell,{className:"font-mono text-[10px] pl-8 text-muted-foreground",children:t.id.toUpperCase()}),(0,s.jsx)(o.TableCell,{className:"font-bold text-sm tracking-tight text-foreground",children:t.title}),(0,s.jsx)(o.TableCell,{className:"text-center",children:a?(0,s.jsx)(j.C,{className:"bg-emerald-500/10 text-emerald-600 dark:text-emerald-400 border-emerald-500/20 px-3 py-1 font-black text-[9px] tracking-tighter uppercase whitespace-nowrap",children:"PASSED"}):n?(0,s.jsxs)(j.C,{variant:"outline",className:"text-muted-foreground/50 border-border px-3 py-1 font-black text-[9px] tracking-tighter uppercase whitespace-nowrap",children:[(0,s.jsx)(c.Z,{className:"w-3 h-3 mr-1"})," LOCKED"]}):(0,s.jsx)(j.C,{variant:"outline",className:"text-muted-foreground border-border px-3 py-1 font-black text-[9px] tracking-tighter uppercase whitespace-nowrap",children:"PENDING"})}),(0,s.jsx)(o.TableCell,{children:(0,s.jsx)("span",{className:"text-[10px] font-bold uppercase tracking-wider ".concat("beginner"===t.tier?"text-blue-500":"text-purple-500"),children:t.tier})}),(0,s.jsx)(o.TableCell,{className:"text-right pr-8",children:(0,s.jsx)(v.z,{variant:"ghost",size:"sm",disabled:n,className:"h-8 text-xs font-bold ".concat(n?"text-muted-foreground/50":"text-blue-500 hover:text-white hover:bg-blue-600"),onClick:()=>{r(t.id),I.push("/")},children:a?"REVISIT":n?"ENCRYPTED":"INITIATE"})})]},t.id)})})]}):(0,s.jsx)("div",{className:"p-8 grid grid-cols-1 md:grid-cols-2 gap-4",children:l.N.map(t=>{let a=e.includes(t.id),n=t.prerequisites.some(t=>!e.includes(t))&&t.id!==l.N[0].id;return(0,s.jsx)(d.Zb,{className:"bg-card border-border hover:border-sidebar-accent transition-all group overflow-hidden ".concat(n?"opacity-50 grayscale":""),children:(0,s.jsxs)("div",{className:"p-4 flex flex-col h-full justify-between gap-4",children:[(0,s.jsxs)("div",{className:"flex justify-between items-start",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-[10px] font-mono text-muted-foreground mb-1",children:t.id.toUpperCase()}),(0,s.jsx)("div",{className:"font-bold text-lg leading-tight text-foreground",children:t.title})]}),a?(0,s.jsxs)("div",{className:"p-1 px-2 rounded bg-emerald-500/10 text-emerald-600 dark:text-emerald-400 border border-emerald-500/20 text-[8px] font-black uppercase tracking-widest flex items-center gap-1",children:[(0,s.jsx)(h.Z,{className:"w-3 h-3"})," PASSED"]}):n?(0,s.jsxs)("div",{className:"p-1 px-2 rounded bg-muted text-muted-foreground/50 border border-border text-[8px] font-black uppercase tracking-widest flex items-center gap-1",children:[(0,s.jsx)(c.Z,{className:"w-3 h-3"})," LOCKED"]}):(0,s.jsxs)("div",{className:"p-1 px-2 rounded bg-blue-500/10 text-blue-500 border border-blue-500/20 text-[8px] font-black uppercase tracking-widest flex items-center gap-1",children:[(0,s.jsx)(b.Z,{className:"w-3 h-3 animate-pulse"})," PENDING"]})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between mt-auto pt-4 border-t border-border",children:[(0,s.jsx)("span",{className:"text-[10px] font-bold uppercase tracking-wider ".concat("beginner"===t.tier?"text-blue-500":"text-purple-500"),children:t.tier}),(0,s.jsx)(v.z,{variant:"ghost",size:"sm",disabled:n,className:"h-8 font-bold text-[10px] tracking-widest ".concat(n?"text-muted-foreground/50":"text-blue-500 hover:text-white hover:bg-blue-600"),onClick:()=>{r(t.id),I.push("/")},children:a?"REVISIT":n?"ENCRYPTED":"INITIATE"})]})]})},t.id)})})})]}),"teacher"!==w&&(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)(d.Zb,{className:"bg-card border-border shadow-2xl rounded-3xl p-6 relative overflow-hidden group",children:[(0,s.jsx)("div",{className:"absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity",children:(0,s.jsx)(c.Z,{className:"w-24 h-24 text-foreground"})}),(0,s.jsx)("h3",{className:"text-lg font-bold mb-2 text-foreground",children:"Next Milestone"}),(0,s.jsxs)("p",{className:"text-sm text-muted-foreground mb-6 leading-relaxed",children:["Complete 2 more modules with accuracy ",">"," 80% to unlock the Advanced Flight Certificate."]}),(0,s.jsx)(v.z,{className:"w-full bg-blue-600 hover:bg-blue-500 font-bold shadow-xl shadow-blue-500/20 py-6 text-sm tracking-widest text-white",onClick:()=>k.Am.info("Advanced certification track is currently under development."),children:"EXPLORE CERTIFICATION"})]}),(0,s.jsxs)(d.Zb,{className:"bg-card border-border rounded-3xl p-6 shadow-sm",children:[(0,s.jsx)("h3",{className:"text-sm font-black uppercase tracking-[0.2em] text-muted-foreground mb-6",children:"Recent Activity"}),(0,s.jsx)("div",{className:"space-y-6",children:[1,2,3].map(e=>(0,s.jsxs)("div",{className:"flex gap-4 items-start border-l-2 border-border pl-4 ml-1",children:[(0,s.jsx)("div",{className:"shrink-0 pt-1",children:(0,s.jsx)("div",{className:"w-2 h-2 rounded-full bg-blue-500 shadow-[0_0_8px_rgba(59,130,246,0.5)]"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs font-bold text-foreground",children:"Mission Executed: Takeoff"}),(0,s.jsx)("p",{className:"text-[10px] text-muted-foreground uppercase tracking-tighter mt-1",children:"2 HOURS AGO • SIMULATION MODE"})]})]},e))})]})]})]}),"teacher"!==w&&(0,s.jsx)("div",{className:"mt-12",children:(0,s.jsx)(z,{})}),"teacher"!==w&&(0,s.jsxs)("div",{className:"mt-12",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold mb-6 tracking-tight text-foreground",children:"Assignment Submission"}),(0,s.jsx)(y,{})]})]})]})}function D(e){let{title:t,value:r,subtitle:a,icon:n,progress:l,color:i}=e;return(0,s.jsxs)(d.Zb,{className:"bg-card border-border shadow-xl rounded-3xl overflow-hidden group hover:scale-[1.02] transition-all duration-300",children:[(0,s.jsxs)(d.Ol,{className:"pb-2 flex flex-row items-center justify-between space-y-0",children:[(0,s.jsx)(d.ll,{className:"text-[10px] font-black uppercase tracking-[0.2em] text-muted-foreground",children:t}),(0,s.jsx)("div",{className:"p-2 rounded-xl bg-muted border border-border group-hover:bg-muted/80 transition-colors",children:n})]}),(0,s.jsxs)(d.aY,{children:[(0,s.jsx)("div",{className:"text-3xl font-black tracking-tighter mb-1 text-foreground",children:r}),(0,s.jsx)("div",{className:"text-[10px] font-bold text-muted-foreground uppercase tracking-widest",children:a}),void 0!==l&&(0,s.jsx)("div",{className:"mt-6 space-y-2",children:(0,s.jsx)("div",{className:"h-1.5 w-full bg-muted rounded-full overflow-hidden",children:(0,s.jsx)("div",{className:"h-full bg-gradient-to-r from-blue-600 to-blue-400 rounded-full shadow-[0_0_10px_rgba(37,99,235,0.3)] transition-all duration-1000",style:{width:"".concat(l,"%")}})})})]})]})}},88838:function(e,t,r){"use strict";r.d(t,{$:function(){return u}});var s=r(3827),a=r(34599),n=r(47907),l=r(8792),i=r(85754),d=r(20333),o=r(50660),c=r(98790);function u(){var e;let t=(0,d.f)(e=>e.user),r=(0,n.useRouter)();if((0,a.e)(),!t)return(0,s.jsxs)(i.z,{variant:"default",size:"sm",className:"bg-blue-600 hover:bg-blue-500 text-white font-black px-6 h-10 rounded-xl shadow-lg shadow-blue-500/20 transition-all hover:scale-105",onClick:()=>r.push("/auth/login"),children:[(0,s.jsx)(c.Z,{className:"w-4 h-4 mr-2"}),"SIGN IN"]});let u=t.email||"P",x=u.substring(0,2).toUpperCase();return(0,s.jsx)("div",{className:"flex items-center gap-2",children:(0,s.jsx)(l.default,{href:"/profile",title:"View Profile",className:"transition-transform hover:scale-105 active:scale-95",children:(0,s.jsx)(i.z,{variant:"ghost",className:"relative h-11 w-11 rounded-2xl border border-white/10 hover:bg-white/5 p-0 bg-white/[0.02] backdrop-blur-sm",children:(0,s.jsxs)(o.Avatar,{className:"h-9 w-9",children:[(0,s.jsx)(o.AvatarImage,{src:null===(e=t.user_metadata)||void 0===e?void 0:e.avatar_url,alt:u}),(0,s.jsx)(o.AvatarFallback,{className:"bg-blue-500/10 text-blue-400 font-black",children:x})]})})})})}},6190:function(e,t,r){"use strict";r.r(t),r.d(t,{BackButton:function(){return i}});var s=r(3827),a=r(47907),n=r(85754),l=r(53879);function i(e){let{className:t,label:r="BACK"}=e,i=(0,a.useRouter)();return(0,s.jsxs)(n.z,{variant:"ghost",size:"sm",onClick:()=>i.back(),className:"group text-muted-foreground hover:text-foreground transition-all flex items-center gap-2 px-2 hover:bg-white/5 rounded-lg ".concat(t),children:[(0,s.jsx)(l.Z,{className:"w-4 h-4 transition-transform group-hover:-translate-x-1"}),(0,s.jsx)("span",{className:"text-[10px] font-black uppercase tracking-widest",children:r})]})}},50660:function(e,t,r){"use strict";r.r(t),r.d(t,{Avatar:function(){return l},AvatarFallback:function(){return d},AvatarImage:function(){return i}});var s=r(3827);r(64090);var a=r(12178),n=r(1657);function l(e){let{className:t,...r}=e;return(0,s.jsx)(a.fC,{"data-slot":"avatar",className:(0,n.cn)("relative flex size-8 shrink-0 overflow-hidden rounded-full",t),...r})}function i(e){let{className:t,...r}=e;return(0,s.jsx)(a.Ee,{"data-slot":"avatar-image",className:(0,n.cn)("aspect-square size-full",t),...r})}function d(e){let{className:t,...r}=e;return(0,s.jsx)(a.NY,{"data-slot":"avatar-fallback",className:(0,n.cn)("bg-muted flex size-full items-center justify-center rounded-full",t),...r})}},31478:function(e,t,r){"use strict";r.d(t,{C:function(){return d}});var s=r(3827);r(64090);var a=r(59143),n=r(49769),l=r(1657);let i=(0,n.j)("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function d(e){let{className:t,variant:r,asChild:n=!1,...d}=e,o=n?a.g7:"span";return(0,s.jsx)(o,{"data-slot":"badge",className:(0,l.cn)(i({variant:r}),t),...d})}},85754:function(e,t,r){"use strict";r.d(t,{z:function(){return d}});var s=r(3827);r(64090);var a=r(59143),n=r(49769),l=r(1657);let i=(0,n.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9","icon-sm":"size-8","icon-lg":"size-10"}},defaultVariants:{variant:"default",size:"default"}});function d(e){let{className:t,variant:r,size:n,asChild:d=!1,...o}=e,c=d?a.g7:"button";return(0,s.jsx)(c,{"data-slot":"button",className:(0,l.cn)(i({variant:r,size:n,className:t})),...o})}},27815:function(e,t,r){"use strict";r.d(t,{Ol:function(){return l},SZ:function(){return d},Zb:function(){return n},aY:function(){return o},eW:function(){return c},ll:function(){return i}});var s=r(3827);r(64090);var a=r(1657);function n(e){let{className:t,...r}=e;return(0,s.jsx)("div",{"data-slot":"card",className:(0,a.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",t),...r})}function l(e){let{className:t,...r}=e;return(0,s.jsx)("div",{"data-slot":"card-header",className:(0,a.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...r})}function i(e){let{className:t,...r}=e;return(0,s.jsx)("div",{"data-slot":"card-title",className:(0,a.cn)("leading-none font-semibold",t),...r})}function d(e){let{className:t,...r}=e;return(0,s.jsx)("div",{"data-slot":"card-description",className:(0,a.cn)("text-muted-foreground text-sm",t),...r})}function o(e){let{className:t,...r}=e;return(0,s.jsx)("div",{"data-slot":"card-content",className:(0,a.cn)("px-6",t),...r})}function c(e){let{className:t,...r}=e;return(0,s.jsx)("div",{"data-slot":"card-footer",className:(0,a.cn)("flex items-center px-6 [.border-t]:pt-6",t),...r})}},45179:function(e,t,r){"use strict";r.d(t,{I:function(){return n}});var s=r(3827);r(64090);var a=r(1657);function n(e){let{className:t,type:r,...n}=e;return(0,s.jsx)("input",{type:r,"data-slot":"input",className:(0,a.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...n})}},19160:function(e,t,r){"use strict";r.r(t),r.d(t,{Table:function(){return n},TableBody:function(){return i},TableCaption:function(){return x},TableCell:function(){return u},TableFooter:function(){return d},TableHead:function(){return c},TableHeader:function(){return l},TableRow:function(){return o}});var s=r(3827);r(64090);var a=r(1657);function n(e){let{className:t,...r}=e;return(0,s.jsx)("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:(0,s.jsx)("table",{"data-slot":"table",className:(0,a.cn)("w-full caption-bottom text-sm",t),...r})})}function l(e){let{className:t,...r}=e;return(0,s.jsx)("thead",{"data-slot":"table-header",className:(0,a.cn)("[&_tr]:border-b",t),...r})}function i(e){let{className:t,...r}=e;return(0,s.jsx)("tbody",{"data-slot":"table-body",className:(0,a.cn)("[&_tr:last-child]:border-0",t),...r})}function d(e){let{className:t,...r}=e;return(0,s.jsx)("tfoot",{"data-slot":"table-footer",className:(0,a.cn)("bg-muted/50 border-t font-medium [&>tr]:last:border-b-0",t),...r})}function o(e){let{className:t,...r}=e;return(0,s.jsx)("tr",{"data-slot":"table-row",className:(0,a.cn)("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",t),...r})}function c(e){let{className:t,...r}=e;return(0,s.jsx)("th",{"data-slot":"table-head",className:(0,a.cn)("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...r})}function u(e){let{className:t,...r}=e;return(0,s.jsx)("td",{"data-slot":"table-cell",className:(0,a.cn)("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...r})}function x(e){let{className:t,...r}=e;return(0,s.jsx)("caption",{"data-slot":"table-caption",className:(0,a.cn)("text-muted-foreground mt-4 text-sm",t),...r})}},23444:function(e,t,r){"use strict";r.d(t,{g:function(){return n}});var s=r(3827);r(64090);var a=r(1657);function n(e){let{className:t,...r}=e;return(0,s.jsx)("textarea",{"data-slot":"textarea",className:(0,a.cn)("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),...r})}},47935:function(e,t,r){"use strict";r.d(t,{fD:function(){return i},lr:function(){return l},vK:function(){return n}});let s="skymakers:assignments";function a(){try{return JSON.parse(localStorage.getItem(s)||"[]")}catch(e){return[]}}function n(e,t,r,n){let l={code:Math.floor(1e5+9e5*Math.random()).toString(),title:t,description:n||null,missions:e,deadline:r||null,createdAt:new Date().toISOString()},i=a();return i.push(l),localStorage.setItem(s,JSON.stringify(i)),l}function l(e){return a().find(t=>t.code===e)}function i(){return a()}},34599:function(e,t,r){"use strict";r.d(t,{O:function(){return n},e:function(){return a}});var s=r(10342);function a(){let e="https://ntmginemkxkurawsabdi.supabase.co",t="sb_publishable_RI5bB73WNkwcTpfaRR5Zlw_0rZxPXuW";if(!e||!t)throw Error("Supabase environment variables (NEXT_PUBLIC_SUPABASE_URL, NEXT_PUBLIC_SUPABASE_ANON_KEY) are missing. Please ensure they are defined in .env.local and restart your development server.");return(0,s.createBrowserClient)(e,t)}let n=a()},1657:function(e,t,r){"use strict";r.d(t,{cn:function(){return n}});var s=r(75504),a=r(51367);function n(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,a.m6)((0,s.W)(t))}}},function(e){e.O(0,[150,338,342,643,288,442,849,333,971,69,744],function(){return e(e.s=55227)}),_N_E=e.O()}]);