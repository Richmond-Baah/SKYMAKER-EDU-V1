(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[0],{6528:function(e,t,r){Promise.resolve().then(r.bind(r,56975))},56975:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return eB}});var a=r(3827),s=r(64090),n=r(8792),o=r(91774),i=r(64067),l=r(82168),d=r(1657);function c(e){let{className:t,...r}=e;return(0,a.jsx)(l.eh,{"data-slot":"resizable-panel-group",className:(0,d.cn)("flex h-full w-full data-[panel-group-direction=vertical]:flex-col",t),...r})}function u(e){let{...t}=e;return(0,a.jsx)(l.s_,{"data-slot":"resizable-panel",...t})}function x(e){let{withHandle:t,className:r,...s}=e;return(0,a.jsx)(l.OT,{"data-slot":"resizable-handle",className:(0,d.cn)("bg-border focus-visible:ring-ring relative flex w-px items-center justify-center after:absolute after:inset-y-0 after:left-1/2 after:w-1 after:-translate-x-1/2 focus-visible:ring-1 focus-visible:ring-offset-1 focus-visible:outline-hidden data-[panel-group-direction=vertical]:h-px data-[panel-group-direction=vertical]:w-full data-[panel-group-direction=vertical]:after:left-0 data-[panel-group-direction=vertical]:after:h-1 data-[panel-group-direction=vertical]:after:w-full data-[panel-group-direction=vertical]:after:translate-x-0 data-[panel-group-direction=vertical]:after:-translate-y-1/2 [&[data-panel-group-direction=vertical]>div]:rotate-90",r),...s,children:t&&(0,a.jsx)("div",{className:"bg-border z-10 flex h-4 w-3 items-center justify-center rounded-xs border",children:(0,a.jsx)(i.Z,{className:"size-2.5"})})})}var m=r(20333),h=r(97077),f=r(85754),p=r(19346);function b(e){let{className:t,children:r,...s}=e;return(0,a.jsxs)(p.fC,{"data-slot":"scroll-area",className:(0,d.cn)("relative",t),...s,children:[(0,a.jsx)(p.l_,{"data-slot":"scroll-area-viewport",className:"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1",children:r}),(0,a.jsx)(g,{}),(0,a.jsx)(p.Ns,{})]})}function g(e){let{className:t,orientation:r="vertical",...s}=e;return(0,a.jsx)(p.gb,{"data-slot":"scroll-area-scrollbar",orientation:r,className:(0,d.cn)("flex touch-none p-px transition-colors select-none","vertical"===r&&"h-full w-2.5 border-l border-l-transparent","horizontal"===r&&"h-2.5 flex-col border-t border-t-transparent",t),...s,children:(0,a.jsx)(p.q4,{"data-slot":"scroll-area-thumb",className:"bg-border relative flex-1 rounded-full"})})}var v=r(67624),w=r(14562),j=r(56227),N=r(95032),k=r(81165),y=r(61524),_=r(46578),S=r(51652),A=r(88361),M=r(37805),C=r(31478),I=r(51318),z=r(30748),E=r(28904),T=r(14314),O=r(53348),D=r(93903),Z=r(4738),P=r(35420),L=r(97404),F=r(56288);function R(){let{code:e,setCode:t}=(0,m.f)(),r=r=>{t("".concat(e.trim(),"\n").concat(r)),F.Am.info("Inserted: ".concat(r))},s=[{id:"takeoff",icon:(0,a.jsx)(I.Z,{className:"w-4 h-4"}),label:"Take Off",snippet:"drone.takeoff()",color:"text-emerald-400"},{id:"land",icon:(0,a.jsx)(z.Z,{className:"w-4 h-4"}),label:"Land",snippet:"drone.land()",color:"text-red-400"},{id:"climb",icon:(0,a.jsx)(E.Z,{className:"w-4 h-4"}),label:"Climb 2m",snippet:"drone.climb(2)",color:"text-blue-400"},{id:"descend",icon:(0,a.jsx)(T.Z,{className:"w-4 h-4"}),label:"Descend 1m",snippet:"drone.descend(1)",color:"text-blue-400"},{id:"forward",icon:(0,a.jsx)(E.Z,{className:"w-4 h-4 rotate-0"}),label:"Forward 2m",snippet:"drone.forward(2)",color:"text-drone-cyan"},{id:"back",icon:(0,a.jsx)(T.Z,{className:"w-4 h-4 rotate-0"}),label:"Back 2m",snippet:"drone.back(2)",color:"text-drone-cyan"},{id:"turn_left",icon:(0,a.jsx)(O.Z,{className:"w-4 h-4"}),label:"Turn Left 90\xb0",snippet:"drone.turn_left(90)",color:"text-purple-400"},{id:"turn_right",icon:(0,a.jsx)(D.Z,{className:"w-4 h-4"}),label:"Turn Right 90\xb0",snippet:"drone.turn_right(90)",color:"text-purple-400"},{id:"hover",icon:(0,a.jsx)(Z.Z,{className:"w-4 h-4"}),label:"Hover 2s",snippet:"drone.hover(2000)",color:"text-drone-gold"},{id:"wait",icon:(0,a.jsx)(P.Z,{className:"w-4 h-4"}),label:"Wait 1s",snippet:"drone.wait(1000)",color:"text-drone-gold"},{id:"flip",icon:(0,a.jsx)(L.Z,{className:"w-4 h-4"}),label:"Stunt Flip",snippet:'drone.flip("forward")',color:"text-orange-400"}];return(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 text-white/90 font-bold text-sm uppercase tracking-wider",children:[(0,a.jsx)(I.Z,{className:"w-4 h-4 text-drone-blue"}),(0,a.jsx)("h3",{children:"Pilot's Handbook"})]}),(0,a.jsx)("div",{className:"grid grid-cols-2 gap-2",children:s.map(e=>(0,a.jsxs)(f.z,{variant:"ghost",className:"glass-dark border border-white/5 hover:border-white/10 hover:bg-white/5 h-auto py-3 px-3 flex flex-col items-center gap-2 group transition-all",onClick:()=>r(e.snippet),children:[(0,a.jsx)("div",{className:"".concat(e.color," group-hover:scale-110 transition-transform"),children:e.icon}),(0,a.jsx)("span",{className:"text-[10px] font-bold text-white/60 tracking-tighter",children:e.label})]},e.id))})]})}function U(){let{currentLessonId:e,completedLessons:t,setLesson:r}=(0,m.f)(),s=h.N.find(t=>t.id===e)||h.N[0],n=h.N.findIndex(e=>e.id===s.id);return(0,a.jsxs)("div",{className:"flex flex-col h-full bg-background border-l border-border dark:premium-gradient-bg transition-colors duration-300",children:[(0,a.jsxs)("div",{className:"p-6 border-b border-border space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)(C.C,{variant:"outline",className:"bg-blue-500/10 text-blue-500 dark:text-blue-400 border-blue-500/20 px-3 py-1 text-[10px] uppercase tracking-widest font-bold",children:[s.tier," TRACK"]}),(0,a.jsxs)("span",{className:"text-[10px] font-mono text-muted-foreground uppercase tracking-tighter",children:["Module ",n+1," / ",h.N.length]})]}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsxs)("h2",{className:"text-2xl font-bold text-foreground tracking-tight flex items-center gap-2",children:[(0,a.jsx)(v.Z,{className:"w-6 h-6 text-blue-500"}),s.title]}),(0,a.jsx)("div",{className:"h-1 w-20 bg-blue-600 rounded-full"})]})]}),(0,a.jsx)(b,{className:"flex-1",children:(0,a.jsxs)("div",{className:"p-6 space-y-8",children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 text-foreground/90 font-bold text-sm uppercase tracking-wider",children:[(0,a.jsx)(w.Z,{className:"w-4 h-4 text-blue-500 dark:text-drone-blue"}),(0,a.jsx)("h3",{children:"Concept Briefing"})]}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground leading-relaxed bg-card border border-border p-5 rounded-xl shadow-sm",children:s.components.theory})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 text-foreground/90 font-bold text-sm uppercase tracking-wider",children:[(0,a.jsx)(j.Z,{className:"w-4 h-4 text-emerald-500 dark:text-drone-emerald"}),(0,a.jsx)("h3",{children:"Mission Parameters"})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-start gap-3 p-3 bg-muted/50 rounded-lg border-l-2 border-l-blue-500/50",children:[(0,a.jsx)("div",{className:"w-5 h-5 rounded-full bg-blue-500/20 flex items-center justify-center shrink-0 mt-0.5",children:(0,a.jsx)("div",{className:"w-1.5 h-1.5 rounded-full bg-blue-500"})}),(0,a.jsx)("p",{className:"text-xs text-foreground/70 italic",children:"Implement flight sequence via editor"})]}),s.components.successCriteria.timeLimit&&(0,a.jsxs)("div",{className:"flex items-start gap-3 p-3 bg-muted/50 rounded-lg border-l-2 border-l-amber-500/50",children:[(0,a.jsx)("div",{className:"w-5 h-5 rounded-full bg-amber-500/20 flex items-center justify-center shrink-0 mt-0.5",children:(0,a.jsx)(N.Z,{className:"w-3 h-3 text-amber-500"})}),(0,a.jsxs)("p",{className:"text-xs text-foreground/70 italic",children:["Complete mission within ",s.components.successCriteria.timeLimit,"s"]})]}),s.components.successCriteria.positionAccuracy&&(0,a.jsxs)("div",{className:"flex items-start gap-3 p-3 bg-muted/50 rounded-lg border-l-2 border-l-cyan-500/50",children:[(0,a.jsx)("div",{className:"w-5 h-5 rounded-full bg-cyan-500/20 flex items-center justify-center shrink-0 mt-0.5",children:(0,a.jsx)(k.Z,{className:"w-3 h-3 text-cyan-500"})}),(0,a.jsxs)("p",{className:"text-xs text-foreground/70 italic",children:["Accuracy threshold: \xb1",s.components.successCriteria.positionAccuracy,"m"]})]})]})]}),(0,a.jsx)(R,{}),(0,a.jsxs)("div",{className:"p-4 bg-amber-500/5 border border-amber-500/20 rounded-xl flex gap-4 transition-all hover:bg-amber-500/10",children:[(0,a.jsx)(y.Z,{className:"w-6 h-6 text-amber-500 flex-shrink-0"}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)("p",{className:"text-xs font-bold text-amber-500 uppercase tracking-tighter",children:"Pilot Advisory"}),(0,a.jsx)("p",{className:"text-[11px] text-muted-foreground leading-tight",children:"Ensure all commands are awaited. Flying in simulation first is recommended for safety."})]})]})]})}),(0,a.jsxs)("div",{className:"p-6 border-t border-border bg-background/80 dark:bg-black/40 backdrop-blur-3xl",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("h3",{className:"text-[10px] font-bold text-muted-foreground uppercase tracking-widest",children:"Training Progress"}),(0,a.jsxs)("span",{className:"text-[10px] text-blue-500 dark:text-blue-400 font-bold",children:[Math.round(t.length/h.N.length*100),"%"]})]}),(0,a.jsx)("div",{className:"h-48 pr-3 overflow-y-auto custom-scrollbar",children:(0,a.jsx)("div",{className:"space-y-2",children:h.N.map((s,n)=>{let o=s.prerequisites.some(e=>!t.includes(e))&&s.id!==h.N[0].id,i=t.includes(s.id),l=s.id===e;return(0,a.jsxs)(f.z,{variant:"ghost",className:"w-full justify-start gap-4 h-auto py-3 px-4 rounded-xl transition-all duration-300 group ".concat(l?"bg-blue-500/10 border border-blue-500/20 text-foreground":"text-muted-foreground hover:text-foreground hover:bg-muted"),disabled:o,onClick:()=>r(s.id),children:[(0,a.jsx)("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center transition-all duration-500 ".concat(i?"bg-emerald-500/20 text-emerald-500":o?"bg-muted text-muted-foreground/50":l?"bg-blue-500 text-white":"bg-muted text-muted-foreground"),children:i?(0,a.jsx)(_.Z,{className:"w-5 h-5 animate-pulse"}):o?(0,a.jsx)(S.Z,{className:"w-5 h-5"}):(0,a.jsx)(A.Z,{className:"w-5 h-5 group-hover:scale-110 transition-transform"})}),(0,a.jsxs)("div",{className:"flex-1 text-left",children:[(0,a.jsx)("div",{className:"text-xs font-bold tracking-tight mb-0.5",children:s.title}),(0,a.jsxs)("div",{className:"text-[10px] opacity-60 font-mono",children:["Mission 0",n+1]})]}),l&&(0,a.jsx)(M.Z,{className:"w-4 h-4 text-blue-500"})]},s.id)})})})]})]})}var G=r(80678),B=r(55952),W=r(12017),K=r(67164),V=r(56312),Y=r(32006),q=r(43182),H=r(66376);function X(e){let{position:t,rotation:r,isFlying:n}=e,o=(0,s.useRef)(null);return(0,G.F)(e=>{o.current&&n&&(o.current.rotation.x=.05*Math.sin(2*e.clock.elapsedTime))}),(0,a.jsx)("group",{position:t,rotation:r,ref:o,children:(0,a.jsxs)(W.b,{speed:n?3:0,rotationIntensity:.2,floatIntensity:n?.5:0,children:[(0,a.jsxs)("mesh",{castShadow:!0,children:[(0,a.jsx)("boxGeometry",{args:[.25,.06,.12]}),(0,a.jsx)("meshStandardMaterial",{color:"#111",roughness:.2,metalness:.8})]}),(0,a.jsxs)("mesh",{position:[0,0,.061],children:[(0,a.jsx)("planeGeometry",{args:[.08,.02]}),(0,a.jsx)("meshStandardMaterial",{color:"#00ffff",emissive:"#00ffff",emissiveIntensity:5,transparent:!0,opacity:.8})]}),[Math.PI/4,-Math.PI/4,3*Math.PI/4,-3*Math.PI/4].map((e,t)=>(0,a.jsxs)("group",{rotation:[0,e,0],children:[(0,a.jsxs)("mesh",{position:[.2,0,0],castShadow:!0,children:[(0,a.jsx)("boxGeometry",{args:[.3,.02,.03]}),(0,a.jsx)("meshStandardMaterial",{color:"#222",roughness:.3,metalness:.7})]}),(0,a.jsx)(J,{position:[.3,.02,0],color:t<2?"#3b82f6":"#ef4444",isSpinning:n})]},t))]})})}function J(e){let{position:t,color:r,isSpinning:n}=e,o=(0,s.useRef)(null);return(0,G.F)((e,t)=>{o.current&&n&&(o.current.rotation.y+=40*t)}),(0,a.jsxs)("group",{position:t,children:[(0,a.jsxs)("mesh",{ref:o,children:[(0,a.jsx)("cylinderGeometry",{args:[.12,.12,.005,16]}),(0,a.jsx)("meshStandardMaterial",{color:r,opacity:n?.4:.2,transparent:!0,side:H.DoubleSide})]}),(0,a.jsxs)("mesh",{position:[0,.01,0],children:[(0,a.jsx)("sphereGeometry",{args:[.02,8,8]}),(0,a.jsx)("meshStandardMaterial",{color:"#000"})]})]})}function $(e){let{target:t}=e,{camera:r}=(0,G.D)(),n=(0,s.useRef)(null);return(0,G.F)(()=>{if(n.current){let e=new H.Vector3(t[0],t[1],t[2]),a=n.current.target.clone(),s=e.clone().sub(a);r.position.add(s.multiplyScalar(.1)),n.current.target.copy(e),n.current.update()}}),(0,a.jsx)(K.z,{ref:n,makeDefault:!0,enableDamping:!0,dampingFactor:.05,minDistance:1.5,maxDistance:20})}function Q(e){let{position:t,yaw:r}=e,n=[t.x,t.y,t.z],{resolvedTheme:i}=(0,o.F)(),l="dark"===i;return(0,a.jsx)("div",{className:"w-full h-full relative overflow-hidden transition-colors duration-500 ".concat(l?"bg-[#050507]":"bg-sky-50"),children:(0,a.jsxs)(B.Xz,{shadows:!0,camera:{position:[3,3,3],fov:45},dpr:[1,2],children:[(0,a.jsx)("color",{attach:"background",args:[l?"#050507":"#f0f9ff"]}),(0,a.jsxs)(s.Suspense,{fallback:(0,a.jsxs)("mesh",{children:[(0,a.jsx)("boxGeometry",{args:[.5,.5,.5]}),(0,a.jsx)("meshStandardMaterial",{color:"blue",wireframe:!0})]}),children:[(0,a.jsx)(V.qA,{preset:l?"night":"city"}),(0,a.jsx)("ambientLight",{intensity:l?1.5:2.5}),(0,a.jsx)("spotLight",{position:[10,15,10],angle:.25,penumbra:1,intensity:4,castShadow:!0,"shadow-mapSize":[1024,1024]}),(0,a.jsx)("pointLight",{position:[-10,5,-10],intensity:2,color:"#3b82f6"}),(0,a.jsx)(Y.r,{infiniteGrid:!0,sectionSize:1,cellSize:.1,fadeDistance:25,sectionColor:l?"#3b82f6":"#bae6fd",cellColor:l?"#1e293b":"#e0f2fe",sectionThickness:1.5}),(0,a.jsxs)("mesh",{rotation:[-Math.PI/2,0,0],position:[0,-.01,0],receiveShadow:!0,children:[(0,a.jsx)("circleGeometry",{args:[.5,32]}),(0,a.jsx)("meshStandardMaterial",{color:"#111"})]}),(0,a.jsxs)("mesh",{rotation:[-Math.PI/2,0,0],position:[0,-.005,0],children:[(0,a.jsx)("ringGeometry",{args:[.45,.5,32]}),(0,a.jsx)("meshStandardMaterial",{color:"#3b82f6",emissive:"#3b82f6",emissiveIntensity:2})]}),(0,a.jsx)(q.j,{position:[0,0,0],opacity:.8,scale:5,blur:2,far:2}),(0,a.jsx)(X,{position:[t.x,t.y+.03,t.z],rotation:[0,-(Math.PI/180*r),0],isFlying:t.y>.05}),(0,a.jsx)($,{target:n})]})]})})}var ee=r(87959),et=r(77326),er=r(82220);function ea(e){let{position:t,yaw:r}=e;return(0,a.jsxs)("div",{className:"w-full h-full relative bg-background rounded-3xl overflow-hidden border border-border shadow-2xl group transition-colors duration-300",children:[(0,a.jsx)(Q,{position:t,yaw:r}),(0,a.jsxs)("div",{className:"absolute top-6 left-6 flex flex-col gap-3 pointer-events-none",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-2 h-2 rounded-full bg-blue-500 shadow-[0_0_8px_rgba(59,130,246,0.5)] animate-pulse"}),(0,a.jsx)("span",{className:"text-[10px] font-black tracking-[0.2em] text-muted-foreground uppercase",children:"System Active"})]}),(0,a.jsxs)("div",{className:"bg-background/60 backdrop-blur-md border border-border px-4 py-2 rounded-xl flex items-center gap-3 shadow-sm",children:[(0,a.jsx)(ee.Z,{className:"w-4 h-4 text-blue-500"}),(0,a.jsx)("div",{className:"h-4 w-px bg-border"}),(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsx)("span",{className:"text-[8px] font-bold text-muted-foreground uppercase",children:"Mode"}),(0,a.jsx)("span",{className:"text-[10px] font-black text-foreground",children:"VIRTUAL ENVIRONMENT"})]})]})]}),(0,a.jsxs)("div",{className:"absolute top-6 right-6 flex flex-col items-end gap-2 pointer-events-none",children:[(0,a.jsx)(C.C,{variant:"outline",className:"bg-background/60 backdrop-blur border-border text-muted-foreground font-mono text-[9px] shadow-sm",children:"LAT: 37.7749 • LON: -122.4194"}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)("div",{className:"w-8 h-8 rounded-lg bg-background/60 backdrop-blur border border-border flex items-center justify-center shadow-sm",children:(0,a.jsx)(et.Z,{className:"w-3.5 h-3.5 text-muted-foreground"})}),(0,a.jsx)("div",{className:"w-8 h-8 rounded-lg bg-background/60 backdrop-blur border border-border flex items-center justify-center shadow-sm",children:(0,a.jsx)(er.Z,{className:"w-3.5 h-3.5 text-muted-foreground"})})]})]}),(0,a.jsxs)("div",{className:"absolute bottom-6 left-6 right-6 flex flex-col md:flex-row items-center md:items-end justify-between pointer-events-none gap-4",children:[(0,a.jsx)("div",{className:"flex flex-col gap-2 w-full md:w-auto",children:(0,a.jsxs)("div",{className:"bg-background/60 backdrop-blur-md border border-border rounded-2xl p-4 flex gap-4 md:gap-8 items-center shadow-lg justify-center md:justify-start",children:[(0,a.jsxs)("div",{className:"flex flex-col min-w-[60px]",children:[(0,a.jsx)("span",{className:"text-[8px] font-bold text-muted-foreground uppercase tracking-widest leading-none mb-1",children:"Altitude"}),(0,a.jsxs)("span",{className:"text-xl font-black text-blue-500 tabular-nums leading-none",children:[t.y.toFixed(2),(0,a.jsx)("small",{className:"text-[10px] ml-0.5 opacity-50",children:"M"})]})]}),(0,a.jsx)("div",{className:"h-8 w-px bg-border"}),(0,a.jsxs)("div",{className:"flex flex-col min-w-[60px]",children:[(0,a.jsx)("span",{className:"text-[8px] font-bold text-muted-foreground uppercase tracking-widest leading-none mb-1",children:"Horizon"}),(0,a.jsxs)("span",{className:"text-xl font-black text-foreground tabular-nums leading-none",children:[r.toFixed(0),"\xb0"]})]}),(0,a.jsx)("div",{className:"h-8 w-px bg-border"}),(0,a.jsxs)("div",{className:"flex flex-col min-w-[60px]",children:[(0,a.jsx)("span",{className:"text-[8px] font-bold text-muted-foreground uppercase tracking-widest leading-none mb-1",children:"Signal"}),(0,a.jsx)("div",{className:"flex gap-0.5 mt-0.5",children:[1,2,3,4,5].map(e=>(0,a.jsx)("div",{className:"w-1 h-3 rounded-full ".concat(e<=4?"bg-blue-500":"bg-muted-foreground/20")},e))})]})]})}),(0,a.jsxs)("div",{className:"flex items-center gap-3 bg-background/60 backdrop-blur-md p-2 rounded-2xl border border-border md:bg-transparent md:border-none md:p-0",children:[(0,a.jsxs)("div",{className:"flex flex-col items-end leading-none",children:[(0,a.jsx)("span",{className:"text-[8px] font-black text-muted-foreground uppercase tracking-widest mb-1",children:"Safe Zone"}),(0,a.jsx)("span",{className:"text-[10px] font-bold text-emerald-500 uppercase tracking-tight",children:"Nominal"})]}),(0,a.jsx)("div",{className:"w-10 h-10 md:w-12 md:h-12 rounded-full bg-background/60 backdrop-blur border border-border flex items-center justify-center shadow-[0_0_20px_rgba(37,99,235,0.2)]",children:(0,a.jsx)(k.Z,{className:"w-4 h-4 md:w-5 md:h-5 text-blue-500 animate-pulse"})})]})]}),(0,a.jsx)("div",{className:"absolute top-4 left-4 w-4 h-4 border-t-2 border-l-2 border-white/20 dark:border-white/20 border-black/10 rounded-tl-lg pointer-events-none"}),(0,a.jsx)("div",{className:"absolute top-4 right-4 w-4 h-4 border-t-2 border-r-2 border-white/20 dark:border-white/20 border-black/10 rounded-tr-lg pointer-events-none"}),(0,a.jsx)("div",{className:"absolute bottom-4 left-4 w-4 h-4 border-b-2 border-l-2 border-white/20 dark:border-white/20 border-black/10 rounded-bl-lg pointer-events-none"}),(0,a.jsx)("div",{className:"absolute bottom-4 right-4 w-4 h-4 border-b-2 border-r-2 border-white/20 dark:border-white/20 border-black/10 rounded-br-lg pointer-events-none"})]})}var es=r(27815),en=r(80479),eo=r(80037),ei=r(23416),el=r(58390),ed=r(39209),ec=r(43081),eu=r(62244);let ex={NO_TAKEOFF:"The drone needs to take off first! Add drone.takeoff() at the start.",INFINITE_LOOP:"Your code is taking too long. Did you create an infinite loop?",SYNTAX_ERROR:"Check your parentheses and indentation",OUT_OF_BOUNDS:"Mission area is 10m \xd7 10m",NO_LANDING:"Don't forget to land the drone! Add drone.land() at the end.",UNKNOWN_COMMAND:(e,t)=>'Unknown command "'.concat(e,'" on line ').concat(t,". Open the Pilot's Manual for available commands."),INVALID_FLIP:(e,t)=>'Invalid flip direction "'.concat(e,'" on line ').concat(t,". Use: 'forward', 'back', 'left', 'right'."),EMPTY_CODE:"Code buffer is empty — write some drone commands first!"},em={takeoff:"takeoff",take_off:"takeoff",land:"land",forward:"move_forward",move_forward:"move_forward",backward:"move_backward",move_backward:"move_backward",back:"move_backward",left:"move_left",move_left:"move_left",right:"move_right",move_right:"move_right",up:"move_up",move_up:"move_up",climb:"move_up",go_up:"move_up",down:"move_down",move_down:"move_down",descend:"move_down",go_down:"move_down",rotate:"rotate_cw",cw:"rotate_cw",turn_right:"rotate_cw",rotate_right:"rotate_cw",ccw:"rotate_ccw",turn_left:"rotate_ccw",rotate_left:"rotate_ccw",hover:"hover",wait:"hover",sleep:"hover",flip:"flip"},eh=["move_forward","move_backward","move_left","move_right","move_up","move_down"],ef=["rotate_cw","rotate_ccw"],ep=["hover"];var eb=r(33319);let eg="skymakers:code_history";function ev(e,t,r,a,s){let n={id:"".concat(e,"_").concat(Date.now()),code:t,timestamp:Date.now(),score:r,passed:a,description:s},o=ew(e);o.push(n),o.length>50&&o.shift();{let t=ej();t[e]=o,localStorage.setItem(eg,JSON.stringify(t))}return n}function ew(e){try{return ej()[e]||[]}catch(e){return[]}}function ej(){try{let e=localStorage.getItem(eg)||"{}";return JSON.parse(e)}catch(e){return{}}}function eN(e){let t=new Date(e),r=new Date().getTime()-e,a=Math.floor(r/6e4),s=Math.floor(r/36e5),n=Math.floor(r/864e5);return a<1?"just now":a<60?"".concat(a,"m ago"):s<24?"".concat(s,"h ago"):n<7?"".concat(n,"d ago"):t.toLocaleDateString()}let ek=(0,r(24232).default)(()=>r.e(143).then(r.bind(r,52143)),{loadableGenerated:{webpack:()=>[52143]},ssr:!1});function ey(e){let{isFlying:t,isExecutingCode:r,onExecutionStart:n,onExecutionEnd:o,setSimState:i,defaultCode:l,onMissionComplete:d,onMissionFailed:c,theme:u="dark"}=e,[x,p]=(0,s.useState)(l||'# SkyMaker Drone Pilot v1.0\n# Mission: My First Flight\n\ndrone.takeoff()\ndrone.climb(2)\ndrone.forward(2)\ndrone.land()\n\nprint("Mission Success!")'),[g,v]=(0,s.useState)([]),[w,j]=(0,s.useState)(!1),{currentLessonId:N}=(0,m.f)(),k=ew(N);(0,s.useEffect)(()=>{v([{type:"info",message:"SYSTEM INITIALIZED: Ready for code input.",timestamp:new Date().toLocaleTimeString()}])},[]),(0,s.useEffect)(()=>{let e=setInterval(()=>{if(x.trim())try{localStorage.setItem("skymaker_autosave_".concat(N),x)}catch(e){}},3e4);return()=>clearInterval(e)},[x,N]);let[y,_]=(0,s.useState)(!1),[S,A]=(0,s.useState)(null),{sendControl:M,isConnected:z}=(0,eb.t)(),E=(0,s.useRef)({x:0,y:0,z:0,yaw:0}),T=(0,s.useRef)({maxAltitude:0,maxDistance:0}),D=(0,s.useRef)(0),Z=(e,t,r,a,s)=>{let n=D.current,o=Math.floor(20*(s>0?s:1));if(o<=0)return Promise.resolve();let l=e/o,d=t/o,c=r/o,u=a/o;return new Promise(e=>{let t=0,r=setInterval(()=>{if(t>=o||D.current!==n){clearInterval(r),e();return}E.current.x+=l,E.current.y+=d,E.current.z+=c,E.current.yaw+=u;let a=Math.sqrt(E.current.x**2+E.current.z**2);T.current.maxAltitude=Math.max(T.current.maxAltitude,E.current.y),T.current.maxDistance=Math.max(T.current.maxDistance,a),i({...E.current}),t++},50)})},P=async e=>{if(!x.trim()){L("error",ex.EMPTY_CODE);return}n(),D.current+=1;let t=D.current;L("info","INITIATING: ".concat("simulate"===e?"SIMULATION":"HARDWARE"," EXECUTION ENGINE...")),E.current={x:0,y:0,z:0,yaw:0},T.current={maxAltitude:0,maxDistance:0},i({x:0,y:0,z:0,yaw:0});let{commands:r,errors:a}=function(e){let t=[],r=[],a=e.split("\n");for(let e=0;e<a.length;e++){let s=e+1,n=a[e].trim();if(""===n||n.startsWith("#")||n.startsWith("//"))continue;if(n.includes("print(")){let e=n.match(/print\((.*?)\)/);e&&t.push({type:"print",value:e[1].replace(/["']/g,""),line:s,raw:n});continue}let o=n.match(/drone\.(\w+)\s*\((.*?)\)/);if(o){let e=o[1].toLowerCase(),a=o[2].trim(),i=em[e];if(!i){r.push({line:s,message:ex.UNKNOWN_COMMAND(e,s)});continue}let l={type:i,line:s,raw:n};if(a){let e=parseFloat(a.replace(/["']/g,""));if(!isNaN(e)&&(eh.includes(i)?l.distance=e:ef.includes(i)?l.angle=e:ep.includes(i)&&(l.duration=e)),"flip"===i){let e=a.replace(/["']/g,"").toLowerCase();if(["forward","back","left","right"].includes(e))l.value=e;else{r.push({line:s,message:ex.INVALID_FLIP(e,s)});continue}}}eh.includes(i)&&void 0===l.distance&&(l.distance=1),ef.includes(i)&&void 0===l.angle&&(l.angle=90),ep.includes(i)&&void 0===l.duration&&(l.duration=1e3),t.push(l);continue}if(n.includes("drone.")){r.push({line:s,message:"Syntax error on line ".concat(s,': "').concat(n,'" — ').concat(ex.SYNTAX_ERROR)});continue}}return{commands:t,errors:r}}(x);if(a.length>0){for(let e of a)L("error","[Line ".concat(e.line,"] ").concat(e.message));L("error","EXECUTION HALTED: Compilation failed."),o();return}let s=function(e){let t=[];if(0===e.length)return t;let r=e.filter(e=>"print"!==e.type);if(0===r.length)return t;let a=r[0];"takeoff"!==a.type&&t.push({line:a.line,message:ex.NO_TAKEOFF});let s=!1;for(let e of r){if("takeoff"===e.type){s=!0;continue}if(!s&&"land"!==e.type){t.push({line:e.line,message:ex.NO_TAKEOFF});break}}let n=r[r.length-1];return"land"!==n.type&&t.push({line:n.line,message:ex.NO_LANDING}),t}(r);if(s.length>0)for(let e of s)L("warning","[Line ".concat(e.line,"] ").concat(e.message));if("drone"===e&&!z){L("info","SEARCHING FOR DRONE VIA WI-FI..."),await new Promise(e=>setTimeout(e,1e3)),L("error","UPLOAD FAILED: NO DRONE FOUND ON NETWORK."),L("info","TROUBLESHOOT: Connect to 'ESP-DRONE' Wi-Fi access point."),o(),F.Am.error("Drone Connection Failed",{description:"Please check your Wi-Fi settings and ensure you are connected to the drone."});return}"drone"===e&&(L("success","HARDWARE LINK ESTABLISHED (192.168.43.42)."),L("info","UPLOADING FLIGHT PLAN..."),await new Promise(e=>setTimeout(e,1e3)));let l=!1;try{let a=0;for(let s of r){if(D.current!==t)break;if(A(s.line-1),"print"===s.type){L("success","LOG: ".concat(s.value||"")),await new Promise(e=>setTimeout(e,100));continue}a++,L("output","> EXECUTING: ".concat(s.raw));let r=s.distance||1,n=s.angle||90,o=s.duration||1e3,l=r/1,d=o/1e3;if("drone"===e){let e=async(e,r,a,s,n)=>{let o=Date.now();for(;Date.now()-o<n&&D.current===t;)await M(e,r,a,s),await new Promise(e=>setTimeout(e,50))};switch(s.type){case"takeoff":L("info","MOTORS ARMED. ASCENDING..."),await e(0,0,0,42e3,1500),await e(0,0,0,32768,500);break;case"land":L("info","DESCENDING FOR TOUCHDOWN..."),await e(0,0,0,2e4,2e3),await M(0,0,0,0);break;case"move_forward":await e(0,15,0,32768,1e3*l);break;case"move_backward":await e(0,-15,0,32768,1e3*l);break;case"move_left":await e(-15,0,0,32768,1e3*l);break;case"move_right":await e(15,0,0,32768,1e3*l);break;case"move_up":await e(0,0,0,4e4,1e3*l);break;case"move_down":await e(0,0,0,25e3,1e3*l);break;case"rotate_cw":await e(0,0,n,32768,1e3*d);break;case"rotate_ccw":await e(0,0,-n,32768,1e3*d);break;case"hover":await e(0,0,0,32768,o);break;case"flip":L("warning","STUNT MODE: PERFORMING FLIP..."),await e(0,0,0,6e4,200),await e(0,45,0,0,400),await e(0,0,0,32768,500)}}else{let e=E.current.yaw*Math.PI/180;switch(s.type){case"takeoff":E.current.y<.1?await Z(0,1,0,0,2):L("info","Takeoff ignored: Drone is already airborne.");break;case"land":E.current.y>.1?(await Z(0,-E.current.y,0,0,2),D.current===t&&(E.current.y=0,i({...E.current}))):L("info","Landing ignored: Drone is already on the ground.");break;case"move_forward":await Z(Math.sin(e)*r,0,-Math.cos(e)*r,0,l);break;case"move_backward":await Z(-Math.sin(e)*r,0,Math.cos(e)*r,0,l);break;case"move_left":await Z(-Math.cos(e)*r,0,-Math.sin(e)*r,0,l);break;case"move_right":await Z(Math.cos(e)*r,0,Math.sin(e)*r,0,l);break;case"move_up":await Z(0,r,0,0,l);break;case"move_down":await Z(0,-r,0,0,l);break;case"rotate_cw":await Z(0,0,0,n,d);break;case"rotate_ccw":await Z(0,0,0,-n,d);break;case"hover":await new Promise(e=>{let r=setTimeout(()=>e(),o),a=setInterval(()=>{D.current!==t&&(clearTimeout(r),clearInterval(a),e())},50)});break;case"flip":L("info","PERFORMING FLIP: ".concat(s.value||"forward")),await Z(0,.5,0,0,.2),await Z(0,-.5,0,0,.2)}}}D.current===t&&L("success","MISSION COMPLETE: ".concat(a," directives executed successfully."))}catch(e){l=!0,L("error","RUNTIME EXCEPTION: ".concat(e instanceof Error?e.message:"Unknown error"))}finally{if(A(null),o(),"simulate"===e&&!l&&D.current===t){let e=h.N.find(e=>e.id===m.f.getState().currentLessonId);if(e){L("info","ANALYZING MISSION DATA...");let t=e.components.successCriteria,r=[];if(L("info","PEAK DATA -> Alt: ".concat(T.current.maxAltitude.toFixed(1),"m, Dist: ").concat(T.current.maxDistance.toFixed(1),"m")),t.landed&&E.current.y>.1&&r.push("Landing required"),t.altitude&&T.current.maxAltitude<t.altitude-.2&&r.push("Target altitude not reached. Target: ".concat(t.altitude,"m (Max: ").concat(T.current.maxAltitude.toFixed(1),"m)")),t.distance&&T.current.maxDistance<t.distance-.2&&r.push("Target distance not reached. Target: ".concat(t.distance,"m (Max: ").concat(T.current.maxDistance.toFixed(1),"m)")),t.positionAccuracy&&!r.includes("Landing required")){let e=Math.sqrt(E.current.x**2+E.current.z**2);e>t.positionAccuracy&&r.push("Return to home failed. Accuracy needed: ".concat(t.positionAccuracy,"m (Off by: ").concat(e.toFixed(1),"m)"))}if(0===r.length){let t=.82+.1*Math.random(),r=Math.round(100*t);L("success","MISSION ASSESSMENT: PASSED ✓"),m.f.getState().completeLesson(e.id,{accuracy:t,stability:9.2+.5*Math.random(),time:24.5}),ev(e.id,x,r,!0,"Passed: ".concat(e.title)),F.Am.success("Mission Accomplished!",{description:"Module ".concat(e.title," passed! Score: ").concat(r)}),null==d||d(r)}else L("warning","MISSION ASSESSMENT: FAILED (".concat(r.join(", "),")")),ev(e.id,x,0,!1,"Failed: ".concat(r.join(", "))),F.Am.error("Mission Failed",{description:"Review mission parameters and try again."}),null==c||c()}}}},L=(e,t)=>{v(r=>[...r,{type:e,message:t,timestamp:new Date().toLocaleTimeString()}].slice(-50))};return(0,a.jsx)("div",{className:"flex flex-col h-full bg-white dark:bg-[#0a0a0c] overflow-hidden transition-colors duration-300",children:(0,a.jsxs)(es.Zb,{className:"flex-1 flex flex-col border-none bg-transparent shadow-none overflow-hidden rounded-none",children:[(0,a.jsxs)(es.Ol,{className:"py-3 px-4 flex flex-row items-center justify-between space-y-0 bg-slate-50 border-slate-200 dark:bg-white/[0.02] dark:border-white/5 border-b shrink-0 transition-colors duration-300",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"p-2 bg-blue-500/10 rounded-lg",children:(0,a.jsx)(en.Z,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"})}),(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsx)("span",{className:"text-xs font-bold text-slate-800 dark:text-white tracking-tight",children:"Mission Architect"}),(0,a.jsx)("span",{className:"text-[9px] uppercase tracking-widest text-slate-500 dark:text-white/40 font-bold",children:"Logic Engine"})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(f.z,{variant:"ghost",size:"sm",onClick:()=>{navigator.clipboard.writeText(x),_(!0),F.Am.success("Code copied to clipboard"),setTimeout(()=>_(!1),2e3)},className:"h-8 w-8 p-0 hover:bg-slate-200 dark:hover:bg-white/5 transition-colors text-slate-500 dark:text-white/40 hover:text-slate-900 dark:hover:text-white",children:y?(0,a.jsx)(eo.Z,{className:"w-3.5 h-3.5 text-emerald-500 dark:text-emerald-400"}):(0,a.jsx)(ei.Z,{className:"w-3.5 h-3.5"})}),(0,a.jsx)(f.z,{variant:"ghost",size:"sm",onClick:()=>p(""),disabled:r,className:"h-8 w-8 p-0 hover:bg-slate-200 dark:hover:bg-white/5 transition-colors text-slate-500 dark:text-white/40 hover:text-slate-900 dark:hover:text-white",children:(0,a.jsx)(O.Z,{className:"w-3.5 h-3.5"})}),k.length>0&&(0,a.jsxs)(f.z,{variant:"ghost",size:"sm",onClick:()=>j(!w),className:"h-8 gap-1 px-2 text-slate-500 dark:text-white/40 hover:text-slate-900 dark:hover:text-white hover:bg-slate-200 dark:hover:bg-white/5 transition-colors",title:"Show code history",children:[(0,a.jsx)(el.Z,{className:"w-3.5 h-3.5"}),(0,a.jsx)("span",{className:"text-[10px] font-bold",children:k.length})]}),(0,a.jsx)("div",{className:"w-px h-4 bg-slate-200 dark:bg-white/10 mx-1"}),r?(0,a.jsxs)(f.z,{size:"sm",onClick:()=>{D.current+=1,E.current={x:0,y:0,z:0,yaw:0},i({x:0,y:0,z:0,yaw:0}),L("warning","MISSION ABORTED: Emergency stop triggered."),F.Am.warning("Simulation Stopped",{description:"Drone motors disarmed. Resetting to default state."})},className:"h-8 gap-2 bg-red-600 hover:bg-red-500 text-white font-bold text-[11px] shadow-[0_0_15px_rgba(220,38,38,0.3)] transition-all active:scale-95 border-none",children:[(0,a.jsx)(ed.Z,{className:"w-3 h-3 fill-current"}),"STOP"]}):(0,a.jsxs)(f.z,{size:"sm",onClick:()=>P("simulate"),disabled:r,className:"h-8 gap-2 bg-emerald-600 hover:bg-emerald-500 text-white font-bold text-[11px] shadow-[0_0_15px_rgba(16,185,129,0.3)] transition-all active:scale-95 border-none",children:[(0,a.jsx)(ec.Z,{className:"w-3.5 h-3.5 fill-current"}),"▶ Run Simulation"]}),(0,a.jsxs)(f.z,{size:"sm",onClick:()=>P("drone"),disabled:r||t,className:"h-8 gap-2 bg-blue-600 hover:bg-blue-500 text-white font-bold text-[11px] shadow-[0_0_15px_rgba(37,99,235,0.3)] transition-all active:scale-95 border-none",children:[(0,a.jsx)(I.Z,{className:"w-3.5 h-3.5 fill-current"}),"UPLOAD"]})]})]}),(0,a.jsxs)(es.aY,{className:"flex-1 min-h-0 flex flex-col p-0 overflow-hidden relative",children:[w&&k.length>0&&(0,a.jsxs)("div",{className:"border-b border-slate-200 dark:border-white/10 bg-slate-50 dark:bg-black/30 p-3 max-h-32 overflow-y-auto",children:[(0,a.jsxs)("p",{className:"text-[9px] font-bold text-slate-500 dark:text-white/60 uppercase mb-2",children:["Version History (",k.length,")"]}),(0,a.jsx)("div",{className:"space-y-1 flex flex-col gap-1",children:k.slice().reverse().map(e=>(0,a.jsxs)(f.z,{variant:"outline",size:"sm",onClick:()=>{let t=function(e,t){let r=ew(e).find(e=>e.id===t);return(null==r?void 0:r.code)||null}(N,e.id);t&&(p(t),j(!1),F.Am.success("Restored version from ".concat(eN(e.timestamp))))},className:"justify-start text-left h-6 text-[10px] bg-white hover:bg-slate-100 border-slate-200 dark:bg-white/5 dark:hover:bg-white/10 dark:border-white/10 text-slate-600 dark:text-white/60",children:[(0,a.jsx)("span",{className:"text-slate-600 dark:text-white/60",children:eN(e.timestamp)}),e.score&&(0,a.jsxs)("span",{className:"ml-auto text-emerald-500 dark:text-emerald-400",children:["Score: ",e.score]})]},e.id))})]}),(0,a.jsxs)("div",{className:"flex-1 min-h-0 relative flex bg-white dark:bg-[#050507]",children:[(0,a.jsx)("div",{className:"flex-1 h-full bg-transparent text-slate-900 dark:text-white/80 font-mono text-[13px] leading-6 resize-none focus:outline-none scrollbar-hide custom-scrollbar",children:(0,a.jsx)(ek,{value:x,onChange:e=>p(e||""),language:"python",theme:"light"===u?"light":"vs-dark",options:{minimap:{enabled:!1},fontFamily:'ui-monospace, SFMono-Regular, Menlo, Monaco, "Roboto Mono", "Courier New", monospace',fontSize:13,automaticLayout:!0,readOnly:r,lineNumbers:"on",scrollBeyondLastLine:!1,tabSize:4,wordWrap:"on",renderLineHighlight:"all",cursorBlinking:"smooth",padding:{top:12,bottom:12}}})}),(0,a.jsxs)("div",{className:"absolute bottom-4 right-6 flex gap-2 pointer-events-none",children:[(0,a.jsx)(C.C,{variant:"outline",className:"bg-white/80 dark:bg-black/60 backdrop-blur border-slate-200 dark:border-white/10 text-[9px] font-mono text-slate-400 dark:text-white/20 px-2 py-0",children:"UTF-8"}),(0,a.jsx)(C.C,{variant:"outline",className:"bg-blue-50 dark:bg-blue-500/10 backdrop-blur border-blue-200 dark:border-blue-500/20 text-[9px] font-mono text-blue-500 dark:text-blue-400 px-2 py-0",children:"PY3.9"})]})]}),(0,a.jsxs)("div",{className:"h-[180px] shrink-0 border-t border-slate-200 dark:border-white/10 flex flex-col bg-slate-900 dark:bg-[#050507] z-20 shadow-lg",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between px-4 py-2 bg-white/[0.03] border-b border-white/5",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(eu.Z,{className:"w-3.5 h-3.5 text-blue-400"}),(0,a.jsx)("span",{className:"text-[10px] font-black uppercase tracking-[0.1em] text-white/60",children:"System Console"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1.5 px-2 py-0.5 rounded-full bg-emerald-500/5 border border-emerald-500/10",children:[(0,a.jsx)("div",{className:"w-1.5 h-1.5 rounded-full bg-emerald-500 shadow-[0_0_8px_rgba(16,185,129,0.5)] animate-pulse"}),(0,a.jsx)("span",{className:"text-[9px] text-emerald-500/80 uppercase font-bold tracking-tighter",children:"Engine Live"})]}),(0,a.jsx)(f.z,{variant:"ghost",size:"sm",onClick:()=>v([{type:"info",message:"SYSTEM INITIALIZED: Ready for code input.",timestamp:new Date().toLocaleTimeString()}]),className:"h-5 text-[9px] px-2 text-white/30 hover:text-white hover:bg-white/5 uppercase font-bold",children:"Clear"})]})]}),(0,a.jsx)(b,{className:"flex-1 bg-black/40",children:(0,a.jsx)("div",{className:"p-4 font-mono text-[11px] leading-relaxed space-y-1",children:0===g.length?(0,a.jsx)("div",{className:"text-white/10 italic",children:"Awaiting drone protocol engagement..."}):g.map((e,t)=>(0,a.jsxs)("div",{className:"flex gap-3 group animate-in fade-in slide-in-from-left-1 duration-200 ".concat("error"===e.type?"text-red-400":"success"===e.type?"text-emerald-400":"output"===e.type?"text-blue-400":"warning"===e.type?"text-amber-400":"text-white/40"),children:[(0,a.jsxs)("span",{className:"text-white/10 shrink-0 select-none",children:["[",e.timestamp,"]"]}),(0,a.jsx)("span",{className:"flex-1 break-all font-medium",children:e.message})]},t))})})]})]})]})})}function e_(e){let{lesson:t,missionIndex:r,onStart:s}=e;return(0,a.jsx)("div",{className:"flex items-center justify-center min-h-full p-6 bg-background transition-colors duration-300",children:(0,a.jsxs)("div",{className:"max-w-2xl w-full space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[(0,a.jsxs)("div",{className:"text-center space-y-3",children:[(0,a.jsxs)(C.C,{variant:"outline",className:"bg-blue-500/10 text-blue-500 dark:text-blue-400 border-blue-500/20 px-4 py-1.5 text-[10px] uppercase tracking-[0.2em] font-bold",children:["Mission ",r+1]}),(0,a.jsx)("h1",{className:"text-4xl md:text-5xl font-black tracking-tight text-foreground",children:t.title}),(0,a.jsx)("p",{className:"text-lg text-muted-foreground max-w-md mx-auto leading-relaxed",children:t.components.theory})]}),(0,a.jsxs)("div",{className:"bg-card border border-border rounded-2xl p-6 space-y-4 shadow-sm",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 text-foreground/80 font-bold text-sm uppercase tracking-widest",children:[(0,a.jsx)(j.Z,{className:"w-4 h-4 text-blue-500"}),(0,a.jsx)("span",{children:"Mission Objective"})]}),(0,a.jsx)("p",{className:"text-muted-foreground text-sm leading-relaxed pl-6",children:t.components.theory}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-2 pl-6 pt-2",children:[t.components.successCriteria.altitude&&(0,a.jsxs)(C.C,{variant:"outline",className:"bg-emerald-500/5 text-emerald-600 dark:text-emerald-400 border-emerald-500/20 text-[10px]",children:["Min Altitude: ",t.components.successCriteria.altitude,"m"]}),t.components.successCriteria.distance&&(0,a.jsxs)(C.C,{variant:"outline",className:"bg-blue-500/5 text-blue-600 dark:text-blue-400 border-blue-500/20 text-[10px]",children:["Min Distance: ",t.components.successCriteria.distance,"m"]}),t.components.successCriteria.positionAccuracy&&(0,a.jsxs)(C.C,{variant:"outline",className:"bg-amber-500/5 text-amber-600 dark:text-amber-400 border-amber-500/20 text-[10px]",children:["Accuracy: \xb1",t.components.successCriteria.positionAccuracy,"m"]}),t.components.successCriteria.landed&&(0,a.jsx)(C.C,{variant:"outline",className:"bg-cyan-500/5 text-cyan-600 dark:text-cyan-400 border-cyan-500/20 text-[10px]",children:"Must Land Safely"})]})]}),(0,a.jsx)("div",{className:"flex items-center justify-center pt-4",children:(0,a.jsxs)(f.z,{size:"lg",onClick:s,className:"h-14 px-12 gap-3 bg-gradient-to-r from-blue-600 to-blue-500 hover:from-blue-500 hover:to-blue-400 text-white font-bold text-base shadow-[0_0_30px_rgba(37,99,235,0.4)] hover:shadow-[0_0_40px_rgba(37,99,235,0.6)] transition-all duration-300 active:scale-95 rounded-xl border-none",children:[(0,a.jsx)(I.Z,{className:"w-5 h-5"}),"Start Mission"]})}),(0,a.jsx)("div",{className:"text-center",children:(0,a.jsx)("p",{className:"text-[10px] text-muted-foreground/60 uppercase tracking-[0.15em] font-bold",children:"Press Ctrl+Enter to run your code  •  Ctrl+K for command reference"})})]})})}var eS=r(66260),eA=r(18727),eM=r(57976),eC=r(18025);function eI(e){let{lesson:t,missionIndex:r,score:s,onNextMission:n,onRetry:o,hasNextMission:i}=e,l=s>=90?3:s>=70?2:1;return(0,a.jsx)("div",{className:"flex items-center justify-center min-h-full p-6 bg-background transition-colors duration-300",children:(0,a.jsxs)("div",{className:"max-w-lg w-full space-y-8 animate-in fade-in zoom-in-95 duration-500",children:[(0,a.jsx)("div",{className:"flex justify-center",children:(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{className:"w-24 h-24 rounded-full bg-gradient-to-br from-emerald-500 to-emerald-600 flex items-center justify-center shadow-[0_0_60px_rgba(16,185,129,0.4)] animate-pulse",children:(0,a.jsx)(eS.Z,{className:"w-12 h-12 text-white"})}),(0,a.jsx)("div",{className:"absolute -top-2 -right-2 w-8 h-8 rounded-full bg-yellow-500 flex items-center justify-center shadow-lg",children:(0,a.jsx)(eA.Z,{className:"w-4 h-4 text-white"})})]})}),(0,a.jsxs)("div",{className:"text-center space-y-2",children:[(0,a.jsx)("h2",{className:"text-3xl font-black tracking-tight text-foreground",children:"Mission Complete!"}),(0,a.jsxs)("p",{className:"text-muted-foreground text-sm",children:["Module ",r+1,": ",t.title]})]}),(0,a.jsx)("div",{className:"flex justify-center gap-2",children:[1,2,3].map(e=>(0,a.jsx)("span",{className:"text-3xl transition-all duration-300 ".concat(e<=l?"text-yellow-400 scale-110":"text-muted-foreground/10"),style:{animationDelay:"".concat(200*e,"ms")},children:"⭐"},e))}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("span",{className:"text-5xl font-black text-emerald-500 dark:text-emerald-400 tabular-nums",children:s}),(0,a.jsx)("span",{className:"text-muted-foreground/50 text-lg ml-1",children:"/ 100"})]}),t.components.learningPoints&&t.components.learningPoints.length>0&&(0,a.jsxs)("div",{className:"bg-card border border-border rounded-2xl p-6 space-y-3 shadow-sm",children:[(0,a.jsx)("h3",{className:"text-xs font-bold text-muted-foreground/60 uppercase tracking-widest",children:"What You Learned"}),(0,a.jsx)("ul",{className:"space-y-2",children:t.components.learningPoints.map((e,t)=>(0,a.jsxs)("li",{className:"flex items-start gap-2 text-sm text-foreground/70",children:[(0,a.jsx)(eM.Z,{className:"w-4 h-4 text-emerald-500 shrink-0 mt-0.5"}),(0,a.jsx)("span",{children:e})]},t))})]}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row items-center gap-3",children:[i&&(0,a.jsxs)(f.z,{size:"lg",onClick:n,className:"flex-1 w-full sm:w-auto h-12 gap-2 bg-gradient-to-r from-blue-600 to-blue-500 hover:from-blue-500 hover:to-blue-400 text-white font-bold shadow-[0_0_20px_rgba(37,99,235,0.3)] transition-all active:scale-95 border-none",children:["Next Mission",(0,a.jsx)(eC.Z,{className:"w-4 h-4"})]}),(0,a.jsxs)(f.z,{variant:"outline",size:"lg",onClick:o,className:"flex-1 w-full sm:w-auto h-12 gap-2 border-border text-foreground/80 hover:text-foreground hover:bg-muted transition-all",children:[(0,a.jsx)(O.Z,{className:"w-4 h-4"}),"Retry for ⭐⭐⭐"]})]})]})})}var ez=r(33329),eE=r(5423),eT=r(31047),eO=r(72891),eD=r(49783),eZ=r(43345),eP=r(42706),eL=r(29392);function eF(){let e=[{title:"Basic Operations",icon:(0,a.jsx)(I.Z,{className:"w-4 h-4 text-emerald-500"}),commands:[{name:"drone.takeoff()",description:"Initializes motors and lifts the drone to 1 meter hover height. Always the first command in your mission.",example:"drone.takeoff()",details:"Must be used while on the ground. Ignored if already flying."},{name:"drone.land()",description:"Gently brings the drone down to altitude 0 and shuts off motors.",example:"drone.land()",details:"Always include this at the end of your script to secure the aircraft."}]},{title:"Movement (D-Pad)",icon:(0,a.jsx)(E.Z,{className:"w-4 h-4 text-blue-500"}),commands:[{name:"drone.forward(meters)",description:"Moves the drone forward by the specified distance.",example:"drone.forward(2)",details:"Values are in meters. Use speed=X parameter to change velocity."},{name:"drone.back(meters)",description:"Moves the drone backwards from its current position.",example:"drone.back(1.5)",details:"Useful for returning to Home base after a mission."},{name:"drone.left(m) / drone.right(m)",description:"Strafes the drone sideways without changing its rotation.",example:"drone.right(3)",details:"Also known as 'Roll' movement in pilot terms."}]},{title:"Altitude & Rotation",icon:(0,a.jsx)(D.Z,{className:"w-4 h-4 text-purple-500"}),commands:[{name:"drone.climb(meters)",description:"Increases the altitude of the drone.",example:"drone.climb(5)",details:"Aliases: drone.up(), drone.go_up()"},{name:"drone.descend(meters)",description:"Decreases the altitude of the drone.",example:"drone.descend(2)",details:"Aliases: drone.down(), drone.go_down()"},{name:"drone.turn_right(degrees)",description:"Rotates the drone clockwise on its center axis.",example:"drone.turn_right(90)",details:"Aliases: drone.rotate_right(), drone.cw()"}]},{title:"Stunts & Utilities",icon:(0,a.jsx)(L.Z,{className:"w-4 h-4 text-orange-500"}),commands:[{name:"drone.flip(direction)",description:"Performs an automated aerobatic flip in the specified direction.",example:"drone.flip('back')",details:"Directions: 'forward', 'back', 'left', 'right'. Caution: High battery usage."},{name:"drone.sleep(ms)",description:"Pauses execution for a specified duration in milliseconds.",example:"drone.sleep(3000) # Wait 3 seconds",details:"Aliases: drone.wait(), drone.hover()"}]}];return(0,a.jsxs)(eP.Vq,{children:[(0,a.jsx)(eP.hg,{asChild:!0,children:(0,a.jsxs)(f.z,{variant:"ghost",size:"sm",className:"gap-2 text-muted-foreground hover:text-foreground px-3 h-8 text-[11px] font-bold border border-border bg-muted/50 hover:bg-muted transition-all",children:[(0,a.jsx)(eL.Z,{className:"w-3.5 h-3.5"}),"PILOT'S MANUAL"]})}),(0,a.jsxs)(eP.cZ,{className:"max-w-4xl h-[85vh] bg-background border border-border text-foreground p-0 overflow-hidden flex flex-col shadow-2xl antialiased",children:[(0,a.jsx)(eP.fK,{className:"p-8 border-b border-border bg-gradient-to-br from-blue-600/10 to-transparent shrink-0",children:(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,a.jsx)("div",{className:"p-2 bg-blue-500/20 rounded-lg",children:(0,a.jsx)(eL.Z,{className:"w-6 h-6 text-blue-500"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)(eP.$N,{className:"text-2xl font-black tracking-tight",children:"Pilot Training Manual"}),(0,a.jsx)(eP.Be,{className:"text-muted-foreground/60 text-[10px] font-bold uppercase tracking-widest mt-0.5",children:"SkyMaker v1.0 Command Specifications"})]})]})}),(0,a.jsx)("div",{className:"flex-1 min-h-0 overflow-hidden relative",children:(0,a.jsx)(b,{className:"h-full w-full",children:(0,a.jsx)("div",{className:"p-8 pb-12",children:(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:e.map((e,t)=>(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 pb-2 border-b border-border",children:[e.icon,(0,a.jsx)("h3",{className:"font-bold text-xs tracking-widest uppercase text-muted-foreground",children:e.title})]}),(0,a.jsx)("div",{className:"space-y-4",children:e.commands.map((e,t)=>(0,a.jsxs)("div",{className:"bg-muted/30 p-5 rounded-xl border border-border space-y-3 hover:bg-muted/50 transition-colors group",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("code",{className:"text-blue-500 dark:text-blue-400 font-bold text-sm font-mono tracking-tighter bg-blue-500/10 px-2 py-0.5 rounded",children:e.name}),(0,a.jsx)(M.Z,{className:"w-4 h-4 text-muted-foreground/20 group-hover:text-blue-500 group-hover:translate-x-1 transition-all"})]}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground leading-relaxed font-medium",children:e.description}),(0,a.jsxs)("div",{className:"bg-muted rounded-lg p-3 border border-border flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(eu.Z,{className:"w-3 h-3 text-muted-foreground/50"}),(0,a.jsx)("code",{className:"text-[10px] text-emerald-600 dark:text-emerald-400 font-mono italic",children:e.example})]}),(0,a.jsx)("span",{className:"text-[9px] text-muted-foreground/40 font-bold uppercase tracking-tighter",children:"Usage Code"})]}),(0,a.jsxs)("p",{className:"text-[9px] text-muted-foreground/60 italic",children:["Pro-tip: ",e.details]})]},t))})]},t))})})})}),(0,a.jsxs)("div",{className:"p-4 bg-muted/50 border-t border-border flex items-center justify-center gap-4 shrink-0",children:[(0,a.jsx)("span",{className:"text-[10px] text-muted-foreground/40 font-bold tracking-widest uppercase",children:"Safe Flight Protocol Active"}),(0,a.jsx)("div",{className:"w-1.5 h-1.5 rounded-full bg-blue-500 animate-pulse"}),(0,a.jsx)("span",{className:"text-[10px] text-muted-foreground/40 font-bold tracking-widest uppercase",children:"Encryption Secure"})]})]})]})}var eR=r(6190),eU=r(88838);function eG(){let{currentLessonId:e,code:t,completedLessons:r,setLesson:i}=(0,m.f)(),{isConnected:l}=(0,eb.t)(),{resolvedTheme:d,setTheme:p}=(0,o.F)(),[b,g]=(0,s.useState)(!1),[w,j]=(0,s.useState)("intro"),[N,k]=(0,s.useState)(0),[y,_]=(0,s.useState)({x:0,y:0,z:0,yaw:0}),[S,A]=(0,s.useState)(!1);(0,s.useEffect)(()=>{g(!0)},[]),(0,s.useEffect)(()=>{j("intro"),k(0)},[e]);let M=h.N.find(t=>t.id===e)||h.N[0],C=h.N.findIndex(e=>e.id===M.id),I=C<h.N.length-1,z=(0,s.useCallback)(e=>{k(e),j("completed")},[]),E=(0,s.useCallback)(()=>{j("failed")},[]),T=(0,s.useCallback)(()=>{I&&(i(h.N[C+1].id),j("intro"))},[C,I,i]),O=(0,s.useCallback)(()=>{j("coding")},[]);return(0,a.jsxs)("div",{className:"h-screen w-screen bg-background overflow-hidden flex flex-col relative transition-colors duration-300",children:[(0,a.jsx)("div",{className:"absolute top-0 right-0 w-[500px] h-[500px] bg-blue-600/10 blur-[120px] rounded-full -translate-y-1/2 translate-x-1/2 pointer-events-none z-0 opacity-50 dark:opacity-100"}),(0,a.jsx)("div",{className:"absolute bottom-0 left-0 w-[400px] h-[400px] bg-emerald-600/5 blur-[100px] rounded-full translate-y-1/2 -translate-x-1/2 pointer-events-none z-0 opacity-50 dark:opacity-100"}),(0,a.jsxs)("header",{className:"h-16 border-b border-border flex items-center px-6 bg-background/80 backdrop-blur-xl shrink-0 z-20 transition-colors duration-300 gap-6",children:[(0,a.jsx)(eR.BackButton,{}),(0,a.jsxs)("div",{className:"flex items-center gap-8",children:[(0,a.jsxs)(n.default,{href:"/",className:"flex items-center gap-3 group cursor-pointer",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-600 to-blue-400 rounded-xl flex items-center justify-center text-white shadow-lg shadow-blue-500/20 group-hover:scale-105 transition-transform duration-300",children:(0,a.jsx)(ez.Z,{className:"w-6 h-6 animate-pulse text-white"})}),(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsxs)("h1",{className:"font-black text-lg text-foreground tracking-tighter leading-none flex items-center gap-1",children:["SKYMAKER ",(0,a.jsx)("span",{className:"text-blue-500",children:"EDU"})]}),(0,a.jsx)("span",{className:"text-[10px] text-muted-foreground font-bold uppercase tracking-[0.2em] mt-0.5",children:"Robotics Platform"})]})]}),(0,a.jsxs)("nav",{className:"hidden lg:flex items-center gap-1 bg-muted/50 p-1 rounded-lg border border-border",children:[(0,a.jsxs)(f.z,{variant:"ghost",size:"sm",className:"gap-2 bg-blue-600 text-white hover:bg-blue-500 hover:text-white px-4 h-8 rounded-md text-xs font-bold",onClick:()=>F.Am.info("Curriculum is already active"),children:[(0,a.jsx)(v.Z,{className:"w-3.5 h-3.5"}),"Curriculum"]}),(0,a.jsx)(eF,{}),(0,a.jsx)(n.default,{href:"/missions",children:(0,a.jsx)(f.z,{variant:"ghost",size:"sm",className:"gap-2 text-muted-foreground hover:text-foreground px-4 h-8 transition-all text-xs font-bold",children:"Missions"})}),(0,a.jsx)(n.default,{href:"/dashboard",children:(0,a.jsxs)(f.z,{variant:"ghost",size:"sm",className:"gap-2 text-muted-foreground hover:text-foreground px-4 h-8 transition-all text-xs font-bold",children:[(0,a.jsx)(eE.Z,{className:"w-3.5 h-3.5"}),"Statistics"]})})]})]}),(0,a.jsxs)("div",{className:"ml-auto flex items-center gap-4",children:[(0,a.jsxs)("div",{className:"hidden xl:flex items-center gap-4 mr-4 text-left",children:[(0,a.jsxs)("div",{className:"flex flex-col items-end",children:[(0,a.jsx)("span",{className:"text-[9px] text-muted-foreground uppercase font-black tracking-widest leading-none mb-1",children:"Missions"}),(0,a.jsxs)("span",{className:"text-[10px] font-bold text-emerald-500 dark:text-emerald-400 leading-none",children:[r.length," / ",h.N.length]})]}),(0,a.jsx)("div",{className:"w-px h-8 bg-border"}),(0,a.jsxs)("div",{className:"flex flex-col items-end",children:[(0,a.jsx)("span",{className:"text-[9px] text-muted-foreground uppercase font-black tracking-widest leading-none mb-1",children:"System"}),(0,a.jsx)("span",{className:"text-[10px] font-bold leading-none ".concat(l?"text-emerald-500 dark:text-emerald-400":"text-muted-foreground/60"),children:l?"LINK ACTIVE":"SIM MODE"})]}),(0,a.jsx)("div",{className:"w-px h-8 bg-border"})]}),b&&(0,a.jsx)(f.z,{variant:"ghost",size:"icon",className:"text-muted-foreground hover:text-foreground hover:bg-muted h-9 w-9",onClick:()=>{let e="dark"===(null!=d?d:"dark")?"light":"dark";p(e),F.Am.success("Theme switched: ".concat(e))},title:"Toggle theme",children:"dark"===d?(0,a.jsx)(eT.Z,{className:"w-4 h-4"}):(0,a.jsx)(eO.Z,{className:"w-4 h-4"})}),(0,a.jsx)(f.z,{variant:"ghost",size:"icon",className:"text-muted-foreground hover:text-foreground hover:bg-muted h-9 w-9",onClick:()=>{document.fullscreenElement?(document.exitFullscreen(),F.Am.success("Fullscreen disabled")):(document.documentElement.requestFullscreen(),F.Am.success("Fullscreen enabled"))},title:"Toggle fullscreen",children:(0,a.jsx)(eD.Z,{className:"w-4 h-4"})}),(0,a.jsx)(f.z,{variant:"ghost",size:"icon",className:"relative text-muted-foreground hover:text-foreground hover:bg-muted h-9 w-9",onClick:()=>F.Am.info("No new notifications"),children:(0,a.jsx)(eZ.Z,{className:"w-4 h-4"})}),(0,a.jsx)("div",{className:"pl-3 border-l border-border py-1",children:(0,a.jsx)(eU.$,{})})]})]}),(0,a.jsxs)("div",{className:"flex-1 min-h-0 relative z-10 font-sans",children:["intro"===w&&(0,a.jsx)(e_,{lesson:M,missionIndex:C,totalMissions:h.N.length,onStart:()=>j("coding")}),"completed"===w&&(0,a.jsx)(eI,{lesson:M,missionIndex:C,score:N,onNextMission:T,onRetry:O,hasNextMission:I}),("coding"===w||"running"===w||"failed"===w)&&(0,a.jsxs)(c,{direction:"horizontal",children:[(0,a.jsx)(u,{defaultSize:35,minSize:25,className:"bg-transparent h-full",children:(0,a.jsx)("div",{className:"h-full border-r border-border",children:(0,a.jsx)(ey,{isFlying:!1,isExecutingCode:S,onExecutionStart:()=>{A(!0),j("running")},onExecutionEnd:()=>A(!1),setSimState:_,defaultCode:t,onMissionComplete:z,onMissionFailed:E,theme:d},e)})}),(0,a.jsx)(x,{className:"bg-border w-1 hover:bg-blue-500/20 transition-colors"}),(0,a.jsx)(u,{defaultSize:40,className:"h-full",children:(0,a.jsx)("div",{className:"h-full w-full p-2 bg-slate-100 dark:bg-black/20",children:(0,a.jsx)(ea,{position:y,yaw:y.yaw})})}),(0,a.jsx)(x,{className:"bg-border w-1 hover:bg-blue-500/20 transition-colors"}),(0,a.jsx)(u,{defaultSize:25,minSize:20,className:"bg-transparent h-full",children:(0,a.jsx)("div",{className:"h-full border-l border-border overflow-hidden",children:(0,a.jsx)(U,{})})})]})]})]})}function eB(){return(0,a.jsx)(eG,{})}},88838:function(e,t,r){"use strict";r.d(t,{$:function(){return u}});var a=r(3827),s=r(34599),n=r(47907),o=r(8792),i=r(85754),l=r(20333),d=r(50660),c=r(98790);function u(){var e;let t=(0,l.f)(e=>e.user),r=(0,n.useRouter)();if((0,s.e)(),!t)return(0,a.jsxs)(i.z,{variant:"default",size:"sm",className:"bg-blue-600 hover:bg-blue-500 text-white font-black px-6 h-10 rounded-xl shadow-lg shadow-blue-500/20 transition-all hover:scale-105",onClick:()=>r.push("/auth/login"),children:[(0,a.jsx)(c.Z,{className:"w-4 h-4 mr-2"}),"SIGN IN"]});let u=t.email||"P",x=u.substring(0,2).toUpperCase();return(0,a.jsx)("div",{className:"flex items-center gap-2",children:(0,a.jsx)(o.default,{href:"/profile",title:"View Profile",className:"transition-transform hover:scale-105 active:scale-95",children:(0,a.jsx)(i.z,{variant:"ghost",className:"relative h-11 w-11 rounded-2xl border border-white/10 hover:bg-white/5 p-0 bg-white/[0.02] backdrop-blur-sm",children:(0,a.jsxs)(d.Avatar,{className:"h-9 w-9",children:[(0,a.jsx)(d.AvatarImage,{src:null===(e=t.user_metadata)||void 0===e?void 0:e.avatar_url,alt:u}),(0,a.jsx)(d.AvatarFallback,{className:"bg-blue-500/10 text-blue-400 font-black",children:x})]})})})})}},6190:function(e,t,r){"use strict";r.r(t),r.d(t,{BackButton:function(){return i}});var a=r(3827),s=r(47907),n=r(85754),o=r(53879);function i(e){let{className:t,label:r="BACK"}=e,i=(0,s.useRouter)();return(0,a.jsxs)(n.z,{variant:"ghost",size:"sm",onClick:()=>i.back(),className:"group text-muted-foreground hover:text-foreground transition-all flex items-center gap-2 px-2 hover:bg-white/5 rounded-lg ".concat(t),children:[(0,a.jsx)(o.Z,{className:"w-4 h-4 transition-transform group-hover:-translate-x-1"}),(0,a.jsx)("span",{className:"text-[10px] font-black uppercase tracking-widest",children:r})]})}},50660:function(e,t,r){"use strict";r.r(t),r.d(t,{Avatar:function(){return o},AvatarFallback:function(){return l},AvatarImage:function(){return i}});var a=r(3827);r(64090);var s=r(12178),n=r(1657);function o(e){let{className:t,...r}=e;return(0,a.jsx)(s.fC,{"data-slot":"avatar",className:(0,n.cn)("relative flex size-8 shrink-0 overflow-hidden rounded-full",t),...r})}function i(e){let{className:t,...r}=e;return(0,a.jsx)(s.Ee,{"data-slot":"avatar-image",className:(0,n.cn)("aspect-square size-full",t),...r})}function l(e){let{className:t,...r}=e;return(0,a.jsx)(s.NY,{"data-slot":"avatar-fallback",className:(0,n.cn)("bg-muted flex size-full items-center justify-center rounded-full",t),...r})}},31478:function(e,t,r){"use strict";r.d(t,{C:function(){return l}});var a=r(3827);r(64090);var s=r(59143),n=r(49769),o=r(1657);let i=(0,n.j)("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function l(e){let{className:t,variant:r,asChild:n=!1,...l}=e,d=n?s.g7:"span";return(0,a.jsx)(d,{"data-slot":"badge",className:(0,o.cn)(i({variant:r}),t),...l})}},85754:function(e,t,r){"use strict";r.d(t,{z:function(){return l}});var a=r(3827);r(64090);var s=r(59143),n=r(49769),o=r(1657);let i=(0,n.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9","icon-sm":"size-8","icon-lg":"size-10"}},defaultVariants:{variant:"default",size:"default"}});function l(e){let{className:t,variant:r,size:n,asChild:l=!1,...d}=e,c=l?s.g7:"button";return(0,a.jsx)(c,{"data-slot":"button",className:(0,o.cn)(i({variant:r,size:n,className:t})),...d})}},27815:function(e,t,r){"use strict";r.d(t,{Ol:function(){return o},SZ:function(){return l},Zb:function(){return n},aY:function(){return d},eW:function(){return c},ll:function(){return i}});var a=r(3827);r(64090);var s=r(1657);function n(e){let{className:t,...r}=e;return(0,a.jsx)("div",{"data-slot":"card",className:(0,s.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",t),...r})}function o(e){let{className:t,...r}=e;return(0,a.jsx)("div",{"data-slot":"card-header",className:(0,s.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...r})}function i(e){let{className:t,...r}=e;return(0,a.jsx)("div",{"data-slot":"card-title",className:(0,s.cn)("leading-none font-semibold",t),...r})}function l(e){let{className:t,...r}=e;return(0,a.jsx)("div",{"data-slot":"card-description",className:(0,s.cn)("text-muted-foreground text-sm",t),...r})}function d(e){let{className:t,...r}=e;return(0,a.jsx)("div",{"data-slot":"card-content",className:(0,s.cn)("px-6",t),...r})}function c(e){let{className:t,...r}=e;return(0,a.jsx)("div",{"data-slot":"card-footer",className:(0,s.cn)("flex items-center px-6 [.border-t]:pt-6",t),...r})}},42706:function(e,t,r){"use strict";r.d(t,{$N:function(){return h},Be:function(){return f},Vq:function(){return i},cN:function(){return m},cZ:function(){return u},fK:function(){return x},hg:function(){return l}});var a=r(3827);r(64090);var s=r(72936),n=r(52235),o=r(1657);function i(e){let{...t}=e;return(0,a.jsx)(s.fC,{"data-slot":"dialog",...t})}function l(e){let{...t}=e;return(0,a.jsx)(s.xz,{"data-slot":"dialog-trigger",...t})}function d(e){let{...t}=e;return(0,a.jsx)(s.h_,{"data-slot":"dialog-portal",...t})}function c(e){let{className:t,...r}=e;return(0,a.jsx)(s.aV,{"data-slot":"dialog-overlay",className:(0,o.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...r})}function u(e){let{className:t,children:r,showCloseButton:i=!0,...l}=e;return(0,a.jsxs)(d,{"data-slot":"dialog-portal",children:[(0,a.jsx)(c,{}),(0,a.jsxs)(s.VY,{"data-slot":"dialog-content",className:(0,o.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),...l,children:[r,i&&(0,a.jsxs)(s.x8,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[(0,a.jsx)(n.Z,{}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function x(e){let{className:t,...r}=e;return(0,a.jsx)("div",{"data-slot":"dialog-header",className:(0,o.cn)("flex flex-col gap-2 text-center sm:text-left",t),...r})}function m(e){let{className:t,...r}=e;return(0,a.jsx)("div",{"data-slot":"dialog-footer",className:(0,o.cn)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",t),...r})}function h(e){let{className:t,...r}=e;return(0,a.jsx)(s.Dx,{"data-slot":"dialog-title",className:(0,o.cn)("text-lg leading-none font-semibold",t),...r})}function f(e){let{className:t,...r}=e;return(0,a.jsx)(s.dk,{"data-slot":"dialog-description",className:(0,o.cn)("text-muted-foreground text-sm",t),...r})}},33319:function(e,t,r){"use strict";r.d(t,{t:function(){return s}});var a=r(64090);function s(){let[e,t]=(0,a.useState)(null),[r,s]=(0,a.useState)(!1),n=(0,a.useRef)(0),o=(0,a.useCallback)(async()=>{try{let e=await fetch("/api/drone/telemetry");if(e.ok){let r=await e.json();t(r)}else t(e=>e?{...e,connected:!1}:null)}catch(e){t(e=>e?{...e,connected:!1}:null)}},[]);return(0,a.useEffect)(()=>{let e=setInterval(o,1e3);return o(),()=>clearInterval(e)},[o]),{telemetry:e,sendControl:(0,a.useCallback)(async(e,t,r,a)=>{let s=Date.now();if(!(s-n.current<50)){n.current=s;try{await fetch("/api/drone/control",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:"setpoint",roll:e,pitch:t,yaw:r,thrust:Math.round(a)})})}catch(e){console.error("Failed to send control command:",e)}}},[]),requestTelemetryRefresh:(0,a.useCallback)(async()=>{try{await fetch("/api/drone/telemetry",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:"requestTelemetry"})})}catch(e){console.error("Failed to request telemetry:",e)}},[]),isConnected:(null==e?void 0:e.connected)||!1}}},34599:function(e,t,r){"use strict";r.d(t,{O:function(){return n},e:function(){return s}});var a=r(10342);function s(){let e="https://ntmginemkxkurawsabdi.supabase.co",t="sb_publishable_RI5bB73WNkwcTpfaRR5Zlw_0rZxPXuW";if(!e||!t)throw Error("Supabase environment variables (NEXT_PUBLIC_SUPABASE_URL, NEXT_PUBLIC_SUPABASE_ANON_KEY) are missing. Please ensure they are defined in .env.local and restart your development server.");return(0,a.createBrowserClient)(e,t)}let n=s()},1657:function(e,t,r){"use strict";r.d(t,{cn:function(){return n}});var a=r(75504),s=r(51367);function n(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,s.m6)((0,a.W)(t))}}},function(e){e.O(0,[689,800,150,338,342,643,288,442,207,259,510,333,971,69,744],function(){return e(e.s=6528)}),_N_E=e.O()}]);